{"version":3,"sources":["manual lazy /^/.//.*/.md$/ groupOptions: {} namespace object","reportWebVitals.js","redux/fetchSliceOptions.js","redux/reducers/datasetSelectSlice.js","redux/reducers/rightPaperSlice.js","redux/reducers/notificationSlice.js","redux/reducers/warningIconSlice.js","redux/reducers/alertSlice.js","redux/reducers/progressSlice.js","redux/reducers/eventDataGridSlice.js","redux/reducers/uqlSlice.js","redux/store.js","components/menu/MainMenuFiller.js","components/menu/MainMenu.js","components/MainContent.js","components/SubContent.js","components/menu/SubMenu.js","components/menu/SubMenuItem.js","components/menu/MainMenuItem.js","components/authentication/login.js","components/authentication/NotAllowed.js","components/authentication/PrivateRoute.js","remote_api/entrypoint.js","remote_api/uql_api_endpoint.js","components/elements/ListDetailView.js","components/elements/forms/inputs/Input.js","components/elements/FilterListWrapper.js","components/elements/lists/cards/SourceCard.js","components/elements/details/DetailBox.js","components/elements/TrackerTheme.js","components/elements/Headers.js","components/elements/ScopeTracerInfo.js","themes/inspector_light_theme.js","components/elements/details/DetailHeader.js","components/elements/details/DetailKeyValue.js","components/elements/details/DetailProperties.js","components/elements/misc/ConfirmationDialog.js","components/elements/details/SourceDetails.js","components/TopInfoBar.js","components/elements/buttons/rule/ActionButton.js","components/elements/misc/Breadcrumps.js","components/elements/progress/CenteredCircularProgress.js","components/pages/Sources.js","components/elements/lists/grids/EventDataGrid.js","components/elements/lists/cards/EventCard.js","components/elements/details/EventDetails.js","components/pages/Events.js","components/elements/lists/grids/RuleDataGrid.js","components/elements/lists/cards/RuleCard.js","components/elements/misc/MetaSwitches.js","components/elements/details/RuleDetails.js","components/pages/Rules.js","components/elements/lists/grids/SegmentDataGrid.js","components/elements/details/SegmentDetails.js","components/elements/lists/cards/SegmentCard.js","components/menu/TopProgress.js","components/pages/Segments.js","components/elements/lists/cards/ProfileCard.js","components/elements/details/ProfileDetails.js","components/pages/Profiles.js","components/elements/misc/MethodTag.js","components/elements/misc/StatusCodeTag.js","components/elements/QueryResponseColumns.js","components/pages/Console.js","components/elements/misc/MarkdownElement.js","components/pages/manual/ManualPage.js","components/elements/misc/SwitchCase.js","components/elements/misc/EnterpriseVer.js","components/elements/misc/RouteCase.js","components/AppBox.js","components/authentication/Logout.js","remote_api/user.js","themes.js","components/authentication/SignIn.js","components/elements/RightPaper.js","components/elements/forms/CreateRuleForm.js","components/elements/misc/KeyValueFragment.js","components/elements/forms/CreateSegemntForm.js","components/elements/forms/CreateSourceForm.js","components/elements/misc/SocialButton.js","components/elements/misc/SocialSplash.js","components/elements/RightPaperHeader.js","components/App.js","index.js"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","fetchOptions","name","initialState","data","error","loading","reducers","state","ready","action","payload","failed","datasetSelectSlice","createSlice","actions","rightPaperSlice","caseId","open","width","anchor","openRightPaper","closeRightPaper","notificationSlice","value","increaseNotificationNumber","decreaseNotificationNumber","resetNotificationNumber","warningIconSlice","show","message","showWarningIcon","hideWarningIcon","alertSlice","type","hideAfter","showAlert","hideAlert","progressSlice","progress","increaseProgress","decreaseProgress","resetProgress","eventDataGridSlice","uqlSlice","uql","runQuery","uqlType","q","query","toLowerCase","startsWith","localStorage","setItem","configureStore","reducer","datasetSelectReducer","rightPaperReducer","notificationReducer","progressReducer","warningIconReducer","alertReducer","eventDataGridReducer","uqlReducer","MainMenuFiller","height","className","style","minHeight","MainMenu","children","MainContent","SubContent","SubMenu","title","SubMenuItem","link","defaultLink","location","useLocation","history","useHistory","itemClass","includes","pathname","onClick","push","MainMenuItem","icon","substring","length","logout","removeItem","getToken","getItem","NotAllowed","Typography","variant","color","align","Link","href","PrivateRoute","roles","rest","isAllowed","a","b","setB","Set","filter","x","has","intersect","JSON","parse","console","log","to","from","authToken","token","api","headers","axios","create","baseURL","process","REACT_APP_API_URL","remote","config","getData","url","setLoading","setError","setReady","get","response","catch","detail","deleteData","delete","request","header","method","setDefaultValues","status","ListDetailView","list","Input","onEnterPressed","onChange","label","initValue","classes","makeStyles","root","useStyles","React","useState","searchValue","setSearchValue","TextField","event","preventDefault","target","onKeyPressCapture","ev","key","size","connect","filterLabel","filterKey","endPoinyUrl","renderList","forceReload","searchQuery","setSearchQuery","inputError","setInputError","rerender","setReRender","dispatch","useDispatch","fetchData","withLoading","load","useEffect","interval","setInterval","clearInterval","Math","random","render","SourceCard","itemId","hostname","DetailBox","props","docco","MiniHeader","ScopeTrackerInfo","tracker","scope","trackerHost","language","wrapLongLines","theme","BASE_FONT_FAMILY","BASE_FONT_SIZE","BASE_LINE_HEIGHT","BASE_BACKGROUND_COLOR","BASE_COLOR","OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES","OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES","OBJECT_NAME_COLOR","OBJECT_VALUE_NULL_COLOR","OBJECT_VALUE_UNDEFINED_COLOR","OBJECT_VALUE_REGEXP_COLOR","OBJECT_VALUE_STRING_COLOR","OBJECT_VALUE_SYMBOL_COLOR","OBJECT_VALUE_NUMBER_COLOR","OBJECT_VALUE_BOOLEAN_COLOR","OBJECT_VALUE_FUNCTION_PREFIX_COLOR","HTML_TAG_COLOR","HTML_TAGNAME_COLOR","HTML_TAGNAME_TEXT_TRANSFORM","HTML_ATTRIBUTE_NAME_COLOR","HTML_ATTRIBUTE_VALUE_COLOR","HTML_COMMENT_COLOR","HTML_DOCTYPE_COLOR","ARROW_COLOR","ARROW_MARGIN_RIGHT","ARROW_FONT_SIZE","ARROW_ANIMATION_DURATION","TREENODE_FONT_FAMILY","TREENODE_FONT_SIZE","TREENODE_LINE_HEIGHT","TREENODE_PADDING_LEFT","TABLE_BORDER_COLOR","TABLE_TH_BACKGROUND_COLOR","TABLE_TH_HOVER_COLOR","TABLE_SORT_ICON_COLOR","TABLE_DATA_BACKGROUND_IMAGE","TABLE_DATA_BACKGROUND_SIZE","DetailHeader","DetailKeyValue","Properties","properties","getValue","obj","constructor","toString","dotted","dot","Fragment","entries","ConfirmationDialog","content","onAgree","onClose","Dialog","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","SourceDetails","onDelete","openConfirmation","setOpenConfirmation","expandLevel","TopInfoBar","buttons","Array","isArray","v","renderButtons","buttonLabel","Breadcrumps","path","split","getFromPathName","CenteredCircularProgress","CircularProgress","setDeleteResponse","onDeleteOk","row","index","columns","field","headerName","flex","renderCell","params","textDecoration","cursor","onClickCapture","rows","rowHeight","pageSize","EventCard","eventId","timestamp","EventDetails","Ids","sessionId","profileId","Other","eventType","persistent","version","timeStamp","source","notification","RuleCard","metadata","enabled","MetaSwitches","meta","setEnabled","hidden","setHidden","readOnly","setReadOnly","missingPlugins","setMissingPlugins","switchTheme","createMuiTheme","typography","body1","fontSize","palette","primary","main","none","onError","toggle","checked","doc","SwitchRow","Switch","ThemeProvider","RuleDetails","UqlDetails","condition","unomi","description","loadingDetails","setLoadingDetails","errorDetails","setErrorDetails","SegmentDetails","SegmentCard","segmentId","progressBar","background","LinearProgress","uqlQuery","ProfileCard","ProfileDetails","systemProperties","segments","MethodTag","methodName","toUpperCase","StatusCodeTag","QueryResponseColumns","rightLoading","setRightLoading","rightError","setRightError","leftLoading","setLeftLoading","leftError","setLeftError","requestJson","setRequestJson","responseJson","setResponseJson","jsonStatus","setJsonStatus","disablePlay","setDisablePlay","onRequestReady","uqlStatement","post","onJsonUpdate","d","body","jsObject","reason","line","JsonEditor","placeholder","locale","colors","default","number","string","primitive","lineHeight","warningBox","errorMessage","margin","LeftInfo","expectedStatus","RightInfo","Play","disable","cls","putData","rightColumn","Console","savedUql","setUql","MarkdownElement","marked","setOptions","gfm","tables","breaks","pedantic","sanitize","smartLists","smartypants","text","this","html","dangerouslySetInnerHTML","__html","Component","ManualPage","mdFile","page","setPage","fileName","file","fetch","loadMdFile","padding","SwitchCase","Children","child","Case","EnterpriseVer","REACT_APP_ENTERPRISE_VERSION","RouteSwitch","RouteCase","propTypes","PropTypes","isRequired","AppBox","BarChartRounded","TuneOutlined","SettingsOutlined","exact","Logout","JsonToURLEncoded","element","idx","encodeURIComponent","join","loginUser","username","password","mainTheme","secondary","red","A400","signInTheme","light","contrastText","paper","disabled","Copyright","Date","getFullYear","marginTop","spacing","display","flexDirection","alignItems","backgroundColor","borderRadius","avatar","form","input","submit","email","setEmail","setPassword","rememberMe","setRememberMe","redirectToReferrer","setRedirectToReferrer","Container","component","maxWidth","Avatar","onSubmitCapture","stringify","noValidate","required","fullWidth","autoComplete","evt","FormControlLabel","control","Checkbox","Grid","container","item","xs","Box","mt","Drawer","button","marginRight","actionsContainer","marginBottom","resetContainer","paddingLeft","paddingRight","paddingBottom","formControl","KeyValueFragment","fontWeight","minWidth","borderBottom","RuleConditionFragment","conditionValue","handleConditionChange","multiline","FormHelperText","RuleDescFragment","descValue","handleDescChange","RuleNameFragment","nameValue","handleNameChange","handleScopeChange","RuleActionFragment","actionValue","handleActionChange","SubmitRule","desc","handleReset","resetDisabled","submitDisabled","setSubmitDisabled","handleSubmitDisabled","submitResult","setSubmitResult","submitResultType","setSubmitTypeResult","handleSubmitResult","handleSubmitTypeResult","Alert","severity","AlertTitle","overflow","submitStatus","createRule","CreateRuleForm","activeStep","setActiveStep","setScope","setConditionValue","setActionValue","setNameValue","setDescValue","steps","handleNext","prevActiveStep","handleBack","getStepContent","step","Stepper","orientation","Step","StepLabel","StepContent","FormControl","SegmentConditionFragment","SegmentDescFragment","SegmentNameFragment","SubmitSegment","createSegment","CreateSegmentForm","CreateSourceForm","showTrackerCode","setShowTrackerCode","setName","trackerApiUrl","setTrackerApiUrl","onNameChange","onScopeChange","onTrackerApiChange","handleSubmitClick","TrackerCode","SocialButton","SocialSplash","src","Facebook","Twitter","YouTube","PlayCircleOutline","HighlightOff","elevation","alert","rightPaper","splash","setSplash","handleClose","onContinueClick","SignIn","Snackbar","autoHideDuration","ReactDOM","StrictMode","store","CssBaseline","document","querySelector"],"mappings":"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","file":"static/js/main.8f5f25ed.chunk.js","sourcesContent":["var map = {\n\t\"./start.md\": [\n\t\t559,\n\t\t3\n\t],\n\t\"./uql/create.md\": [\n\t\t560,\n\t\t4\n\t],\n\t\"./uql/delete.md\": [\n\t\t561,\n\t\t5\n\t],\n\t\"./uql/select.md\": [\n\t\t562,\n\t\t6\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 537;\nmodule.exports = webpackAsyncContext;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const fetchOptions = (name) => {\n    return {\n        name: name,\n        initialState: {\n            data: [],\n            error: null,\n            loading: false\n        },\n        reducers: {\n            loading: (state) => {\n                state.data = []\n                state.loading = true\n                state.error = null\n            },\n            ready: (state, action) => {\n                state.data = action.payload.data\n                state.loading = false\n                state.error = null\n            },\n            failed: (state, action) => {\n                state.data = []\n                state.loading = false\n                state.error = action.payload.error\n            }\n\n        }\n    }\n}","import {createSlice} from '@reduxjs/toolkit'\nimport {fetchOptions} from \"../fetchSliceOptions\";\n\nexport const datasetSelectSlice = createSlice(fetchOptions(\"select\"))\n\nexport const {loading, ready, failed} = datasetSelectSlice.actions\nexport default datasetSelectSlice.reducer","import {createSlice} from '@reduxjs/toolkit'\n\nexport const rightPaperSlice = createSlice({\n    name: \"right-paper\",\n    initialState: {\n        caseId: \"\",\n        open: false,\n        width: 1000,\n        anchor: \"right\"\n    },\n    reducers: {\n        openRightPaper: (state, action) => {\n            state.caseId = action.payload.caseId\n            state.width = action.payload.width\n            state.anchor = typeof action.payload.anchor!==\"undefined\" ? action.payload.anchor : \"right\"\n            state.open = true\n        },\n        closeRightPaper: (state) => {\n            state.open = false\n            state.caseId = \"\"\n        },\n    }\n})\n\nexport const {openRightPaper, closeRightPaper} = rightPaperSlice.actions\nexport default rightPaperSlice.reducer","import {createSlice} from '@reduxjs/toolkit'\n\nexport const notificationSlice = createSlice({\n    name: 'notification',\n    initialState: {\n        value: 0\n    },\n    reducers: {\n        increaseNotificationNumber: state => {\n            state.value += 1\n        },\n        decreaseNotificationNumber: state => {\n            state.value -= 1\n        },\n        resetNotificationNumber: state => {\n            state.value = 0\n        }\n    }\n})\n\nexport const {\n    increaseNotificationNumber,\n    decreaseNotificationNumber,\n    resetNotificationNumber} = notificationSlice.actions\nexport default notificationSlice.reducer","import {createSlice} from '@reduxjs/toolkit'\n\nexport const warningIconSlice = createSlice({\n    name: 'warning',\n    initialState: {\n        show: false,\n        message: \"n/a\"\n    },\n    reducers: {\n        showWarningIcon: (state, action) => {\n            state.show = true\n            state.message = action.payload.message\n        },\n        hideWarningIcon: state => {\n            state.show = false\n            state.message = ''\n        }\n    }\n})\n\nexport const {showWarningIcon, hideWarningIcon} = warningIconSlice.actions\nexport default warningIconSlice.reducer","import {createSlice} from '@reduxjs/toolkit'\n\nexport const alertSlice = createSlice({\n    name: 'alert',\n    initialState: {\n        message: \"n/a\",\n        type: \"info\",\n        show: false,\n        hideAfter: 1000\n    },\n    reducers: {\n        showAlert: (state, action) => {\n            state.message = action.payload.message\n            state.type = action.payload.type\n            state.show = true\n            state.hideAfter = typeof(action.payload.hideAfter) != \"undefined\" ? action.payload.hideAfter : 500\n        },\n        hideAlert: (state) => {\n            state.show = false\n        }\n    }\n})\n\nexport const {showAlert, hideAlert} = alertSlice.actions\nexport default alertSlice.reducer","import {createSlice} from '@reduxjs/toolkit'\n\nexport const progressSlice = createSlice({\n    name: 'progress',\n    initialState: {\n        progress: 0\n    },\n    reducers: {\n        increaseProgress: (state, action) => {\n            state.progress += action.payload.value\n        },\n        decreaseProgress: (state, action) => {\n            state.progress -= action.payload.value\n        },\n        resetProgress: state => {\n            state.progress = 0\n        }\n    }\n})\n\nexport const {\n    increaseProgress,\n    decreaseProgress,\n    resetProgress} = progressSlice.actions\nexport default progressSlice.reducer","import {createSlice} from '@reduxjs/toolkit'\nimport {fetchOptions} from \"../fetchSliceOptions\";\n\nexport const eventDataGridSlice = createSlice(fetchOptions(\"event-data-grid\"))\n\nexport const {loading, ready, failed} = eventDataGridSlice.actions\nexport default eventDataGridSlice.reducer","import {createSlice} from '@reduxjs/toolkit'\n\nexport const uqlSlice = createSlice({\n    name: 'uql-query',\n    initialState: {\n        uql: \"\",\n    },\n    reducers: {\n        runQuery: (state, action) => {\n            let uqlType = 'none';\n            const q = action.payload.query.toLowerCase();\n            if(q.startsWith('select event')) {\n                uqlType = \"event\";\n            } else if(q.startsWith('select rule')) {\n                uqlType = \"rule\";\n            } else if(q.startsWith('select segment')) {\n                uqlType = \"segment\";\n            }\n            state.uql = action.payload.query;\n            state.uqlType = uqlType;\n            localStorage.setItem('uqlType', uqlType);\n        }\n    }\n})\n\nexport const {runQuery} = uqlSlice.actions\nexport default uqlSlice.reducer","import {configureStore} from '@reduxjs/toolkit'\nimport datasetSelectReducer from \"./reducers/datasetSelectSlice\";\nimport rightPaperReducer from \"./reducers/rightPaperSlice\";\nimport notificationReducer from \"./reducers/notificationSlice\";\nimport warningIconReducer from \"./reducers/warningIconSlice\";\nimport alertReducer from \"./reducers/alertSlice\";\nimport progressReducer from \"./reducers/progressSlice\";\nimport eventDataGridReducer from \"./reducers/eventDataGridSlice\";\nimport uqlReducer from \"./reducers/uqlSlice\";\n\nexport default configureStore({\n        reducer: {\n            datasetSelectReducer,\n            rightPaperReducer,\n            notificationReducer,\n            progressReducer,\n            warningIconReducer,\n            alertReducer,\n            eventDataGridReducer,\n            uqlReducer\n        }\n    }\n);\n","import React from \"react\";\nimport \"./MainMenuItem.css\";\n\nexport default function MainMenuFiller({height}) {\n    return <div className=\"MainMenuItem\" style={{minHeight: height}}/>\n}","import React from \"react\";\nimport MainMenuFiller from \"./MainMenuFiller\";\nimport \"./MainMenu.css\";\n\nexport default function MainMenu({children}) {\n    return <div className=\"MainMenu\">\n        <MainMenuFiller height=\"45px\"/>\n        {children}\n        <MainMenuFiller height=\"100%\"/>\n    </div>\n}","import React from \"react\";\nimport \"./MainContent.css\";\n\nexport default function MainContent({children, style}) {\n    return <div className=\"MainContent\" style={style}>\n        {children}\n    </div>\n}","import React from \"react\";\nimport \"./SubContent.css\";\n\nexport default function SubContent({children}) {\n    return <div className=\"SubContent\">\n        {children}\n    </div>\n}","import React from \"react\";\nimport \"./SubMenu.css\";\n\nexport default function SubMenu({title, children}) {\n    return <div className=\"SubMenu\">\n        <div className=\"SubMenuHeader\"><span>Tracardi</span> {title}</div>\n        {children}\n        <div className=\"SubMenuFiller\">\n            <div className=\"Branding\">\n                <div className=\"BrandName\">TRACARDI <span> ver. 0.1.0</span></div>\n                <div className=\"TagName\">Customer Data Platform</div>\n            </div>\n\n        </div>\n    </div>\n}","import React from \"react\";\nimport \"./SubMenuItem.css\";\nimport {useHistory, useLocation} from \"react-router-dom\";\n\nexport default function SubMenuItem({children, link, defaultLink}) {\n    const location = useLocation();\n    const history = useHistory();\n\n    let itemClass = \"SubMenuItem\";\n    if(typeof defaultLink !== \"undefined\" && defaultLink.includes(location.pathname)) {\n        itemClass = itemClass + \" SubMenuSelectedItem\";\n    } else if(location.pathname === link) {\n        itemClass = itemClass + \" SubMenuSelectedItem\";\n    } else {\n        itemClass = itemClass + \" SubMenuNotSelectedItem\";\n    }\n\n    const onClick = () => {\n        history.push(link);\n    }\n\n    return <div className={itemClass} onClick={onClick}>\n        {children}\n    </div>\n}","import React from \"react\";\nimport \"./MainMenuItem.css\";\nimport {useHistory, useLocation} from \"react-router-dom\";\n\nexport default function MainMenuItem({icon, title, link, defaultLink}) {\n    const location = useLocation();\n    const history = useHistory();\n\n    let itemClass = \"MainMenuItem\";\n    if(typeof defaultLink !== \"undefined\" && defaultLink === location.pathname) {\n        itemClass = itemClass + \" MainMenuSelectedItem\";\n    } else if (location.pathname.substring(0, link.length) === link) {\n        itemClass = itemClass + \" MainMenuSelectedItem\"\n    } else {\n        itemClass = itemClass + \" MainMenuNotSelectedItem\"\n    }\n\n    const onClick = () => {\n        history.push(link);\n    }\n\n    return <div className={itemClass} onClick={onClick}>\n        <div>{icon}</div>\n        <div>{title}</div>\n    </div>\n}","export function isAuth() {\n    return getToken() !== null;\n}\n\nexport function logout() {\n    localStorage.removeItem('auth-token')\n}\n\nexport function setToken(token) {\n    localStorage.setItem('auth-token', token);\n}\n\nexport function setRoles(roles) {\n    localStorage.setItem('auth-roles', JSON.stringify(roles))\n}\n\nexport function getRoles() {\n    return JSON.parse(localStorage.getItem('auth-roles'))\n}\n\nexport function getToken() {\n    return localStorage.getItem('auth-token');\n}","import Typography from \"@material-ui/core/Typography\";\nimport React from \"react\";\nimport Link from \"@material-ui/core/Link\";\n\nexport default function NotAllowed() {\n    return (\n        <Typography variant=\"body2\" color=\"textPrimary\" align=\"center\">\n            You do not have rights to this page.\n            <Link color=\"inherit\" href=\"/app/login\">\n                Log-in\n            </Link>.\n        </Typography>\n    );\n}","import React from \"react\";\nimport {Route, Redirect} from \"react-router-dom\";\nimport {getRoles, isAuth} from \"./login\";\nimport NotAllowed from \"./NotAllowed\";\n\nexport default function PrivateRoute({children, location, roles, ...rest}) {\n\n    function intersect(a, b) {\n        let setB = new Set(b);\n        return [...new Set(a)].filter(x => setB.has(x));\n    }\n\n    const isAllowed = () => {\n        // console.log(getRoles());\n        // console.log(roles);\n        // console.log(intersect(getRoles(), roles));\n        if(intersect(getRoles(), roles).length > 0) {\n            return true\n        }\n        return false\n    }\n\n    return (\n        <Route {...rest}>\n            {console.log(isAllowed())}\n            {\n                isAuth()\n                    ? isAllowed() ? children : <NotAllowed/>\n                    : <Redirect to={\n                        {\n                            pathname: '/app/login',\n                            state: {from: location}\n                        }\n                    }/>\n            }\n        </Route>\n    )\n};\n","import axios from 'axios'\nimport {getToken} from \"../components/authentication/login\";\n\nconst authToken = () => {\n    let token = getToken();\n    return 'Bearer ' + (token == null ? 'None' : token)\n}\n\nexport const api = (headers) => {\n    headers = {\n        ...headers,\n        'Authorization': authToken()\n    }\n\n    return axios.create({\n        baseURL: process.env.REACT_APP_API_URL,\n        headers\n    })\n}\n\nexport const remote = (config) => {\n    config = {\n        ...config,\n        baseURL: process.env.REACT_APP_API_URL\n    }\n    config.headers = {\n        ...config.headers,\n        'Authorization': authToken()\n    }\n    console.log(config);\n    return axios(config)\n}\n","import {loading, ready, failed} from \"../redux/reducers/datasetSelectSlice\"\n\nimport {api, remote} from \"./entrypoint\";\nimport {logout} from \"../components/authentication/login\";\n\n// export const fetchUQL = (uqlStatement) => dispatch => {\n//     dispatch(loading());\n//     try {\n//         const path = '/console/select';\n//         api({\"Content-type\": \"text/plain\"})\n//             .post(path, uqlStatement)\n//             .then(response => {\n//                 dispatch(ready({\"data\": response.data}));\n//             })\n//             .catch((e) => {\n//                 dispatch(failed(e.message));\n//                 if (typeof (e.response) != \"undefined\") {\n//                     dispatch(showAlert({type: \"error\", message: `Query failed with error ${e.response.data.detail}`}));\n//                 } else {\n//                     dispatch(showAlert({type: \"error\", message: e.message}));\n//                 }\n//             });\n//     } catch (e) {\n//         dispatch(failed(e.message))\n//     }\n// };\n\nexport const fetchData = (uqlStatement, url, setLoading, setError, setReady, setDefaultValues = true) => {\n    if (setDefaultValues) {\n        setError(false);\n        setReady(false);\n        setLoading(true);\n    }\n    try {\n        api({\"Content-type\": \"text/plain\"})\n            .post(url, uqlStatement)\n            .then(response => {\n                setLoading(false);\n                setReady({\"data\": response.data});\n            })\n            .catch((e) => {\n                setLoading(false);\n                if (typeof (e.response) != \"undefined\") {\n                    setError(e.response.data.detail);\n                } else {\n                    setError(e.message);\n                }\n            });\n    } catch (e) {\n        setError(e.message);\n    }\n};\n\nexport const putData = (uqlStatement, url, setLoading, setError, setReady, setDefaultValues = true) => {\n    if (setDefaultValues) {\n        setError(false);\n        setReady(false);\n        setLoading(true);\n    }\n    try {\n        api({\"Content-type\": \"application/json\"})\n            .post(url, uqlStatement)\n            .then(response => {\n                setLoading(false);\n                setReady({\"data\": response.data});\n            })\n            .catch((e) => {\n                setLoading(false);\n                if (typeof (e.response) != \"undefined\") {\n                    setError(e.response.data.detail);\n                } else {\n                    setError(e.message);\n                }\n            });\n    } catch (e) {\n        setError(e.message);\n    }\n};\n\nexport const getData = (url, setLoading, setError, setReady) => {\n    setError(false);\n    setReady(false);\n    setLoading(true);\n    try {\n        api({\"Content-type\": \"application/json\"})\n            .get(url)\n            .then(response => {\n                setLoading(false);\n                setReady({\"data\": response.data});\n            })\n            .catch((e) => {\n                setLoading(false);\n                if (typeof (e.response) != \"undefined\") {\n                    setError(e.response.data.detail);\n                } else {\n                    setError(e.message);\n                }\n            });\n    } catch (e) {\n        setError(e.message);\n    }\n};\n\nexport const deleteData = (url, setLoading, setError, setReady) => {\n    setError(false);\n    setReady(false);\n    setLoading(true);\n    try {\n        api({\"Content-type\": \"application/json\"})\n            .delete(url)\n            .then(response => {\n                setLoading(false);\n                setReady({\"data\": response.data});\n            })\n            .catch((e) => {\n                setLoading(false);\n                if (typeof (e.response) != \"undefined\") {\n                    setError(e.response.data.detail);\n                } else {\n                    setError(e.message);\n                }\n            });\n    } catch (e) {\n        setError(e.message);\n    }\n};\n\nexport const createRule = (params, loading, ready, error) => {\n    try {\n        loading();\n        const path = '/rule';\n        api({\"Content-type\": \"application/json\"})\n            .post(path, params)\n            .then(response => {\n                ready({\"data\": response.data});\n            })\n            .catch((e) => {\n                error(e);\n            });\n    } catch (e) {\n        error(e);\n    }\n};\n\nexport const createSegment = (params, loading, ready, error) => {\n    try {\n        loading();\n        const path = '/segment';\n        api({\"Content-type\": \"application/json\"})\n            .post(path, params)\n            .then(response => {\n                ready({\"data\": response.data});\n            })\n            .catch((e) => {\n                error(e);\n            });\n    } catch (e) {\n        error(e);\n    }\n};\n\nexport const request = ({url, header, method, data}, setLoading, setError, setReady, setDefaultValues=true) => {\n    if (setDefaultValues) {\n        setError(false);\n        setReady(false);\n        setLoading(true);\n    }\n\n    if(typeof header == \"undefined\") {\n        header = {\"Content-Type\":'application/json'};\n    }\n\n    if(typeof method == \"undefined\") {\n        method = \"get\";\n    }\n\n    try {\n        remote({\n            url,\n            method,\n            header,\n            data\n        }).then(response => {\n            setLoading(false);\n            setReady({\"data\": response.data});\n        }).catch((e) => {\n            setLoading(false);\n            if (e.response) {\n                if( typeof e.response.data.detail === 'object' && e.response.data.detail !== null ) {\n                    if (typeof e.response.data.detail.message === 'string' && e.response.data.detail.message !== null) {\n                        setError(e.response.data.detail.message);\n                    }\n                } else {\n                    setError(e.response.data.detail);\n                }\n\n                if (e.request && e.request.status == 401) {\n                    logout();\n                }\n\n            } else {\n                setError(e.message);\n            }\n        });\n    } catch (e) {\n        console.log(e.message)\n        setError(e.message);\n    }\n};\n","import Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\nimport \"./ListDetailView.css\"\n\nexport default function ListDetailView({list, detail}) {\n    return (\n        <div className=\"ListDetailView\">\n            <div className=\"ListDetailViewLeftColumn\">\n                {list()}\n            </div>\n            <div className=\"ListDetailViewRightColumn\">\n                {detail()}\n            </div>\n        </div>\n\n    );\n}\n","import React from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n\nexport default function Input({onEnterPressed, onChange, label, initValue, error, variant}) {\n    const useStyles = makeStyles(() => (\n        {\n            root: {\n                width: '100%'\n            }\n        }\n    ));\n    const classes = useStyles();\n    const [searchValue, setSearchValue] = React.useState(initValue);\n\n    const handleNameChange = (event) => {\n        if (typeof (onChange) != \"undefined\") {\n            onChange(event);\n            event.preventDefault();\n        }\n        setSearchValue(event.target.value);\n    };\n    const handleKeyPress = (ev) => {\n        if (ev.key === 'Enter' && typeof (onEnterPressed) != \"undefined\") {\n            onEnterPressed(ev.target.value);\n            ev.preventDefault();\n        }\n    };\n\n    return <div className={classes.root}>\n        <TextField id=\"search-input\" label={label}\n                   value={searchValue}\n                   onChange={handleNameChange}\n                   onKeyPressCapture={handleKeyPress}\n                   className={classes.root}\n                   error={error}\n                   variant={variant}\n                   size=\"small\"\n        />\n    </div>\n}","import React, {useEffect} from 'react';\nimport {request} from \"../../remote_api/uql_api_endpoint\";\nimport Input from \"./forms/inputs/Input\";\nimport {connect, useDispatch} from \"react-redux\";\nimport {showAlert} from \"../../redux/reducers/alertSlice\";\nimport \"./FilterListWrapper.css\";\n\nexport function FilterListWrapper({filterLabel, filterKey, endPoinyUrl, renderList, forceReload}) {\n\n    const [loading, setLoading] = React.useState(false);\n    const [error, setError] = React.useState(false);\n    const [ready, setReady] = React.useState(false);\n    const [searchQuery, setSearchQuery] = React.useState(localStorage.getItem(filterKey));\n    const [inputError, setInputError] = React.useState(false);\n    const [rerender, setReRender] = React.useState(0);\n    const dispatch = useDispatch();\n\n    const fetchData = (withLoading) => {\n\n        return () => {\n\n            let load = () => { }\n\n            if (withLoading) {\n                load = (value) => {\n                    setLoading(value);\n                    setInputError(false)\n                }\n            }\n\n            request(\n                {\n                    url: endPoinyUrl,\n                    method: \"post\",\n                    header: {\"Content-type\": \"text/plain\"},\n                    data: searchQuery\n                },\n                load,\n                (value) => {\n                    setError(value);\n                    setInputError(true)\n                },\n                (value) => {\n                    setReady(value);\n                    setInputError(false)\n                },\n                withLoading\n            );\n        }\n\n    }\n\n    useEffect(() => {\n        fetchData(true)();\n\n        const interval = setInterval(fetchData(false), 5000);\n        return () => clearInterval(interval);\n\n    }, [searchQuery, rerender, forceReload])\n\n    const onSearch = (value) => {\n        localStorage.setItem(filterKey, value);\n        setSearchQuery(value);\n        setReRender(Math.random());\n    }\n\n    const render = () => {\n        if (error !== false) {\n            dispatch(showAlert({type: \"warning\", message: error, hideAfter: 6000}));\n            setError(false);\n        }\n        if (ready !== false) {\n            return renderList(ready.data)\n\n        }\n        // else if (loading) {\n        //     return <CenteredCircularProgress/>\n        // }\n    }\n\n    return (\n\n        <div className=\"FilterListWrapper\">\n            <div className=\"FilterInput\">\n                <Input label={filterLabel}\n                       onEnterPressed={onSearch}\n                       initValue={searchQuery}\n                       style={{width: \"100%\"}}\n                       error={inputError}\n                       variant=\"outlined\"\n                />\n            </div>\n\n            <div className=\"FilterList\">\n                {render()}\n            </div>\n        </div>\n    );\n\n}\n\nconst mapProps = () => {\n    return {}\n}\n\nexport default connect(\n    mapProps,\n    {\n        showAlert,\n    },\n)(FilterListWrapper)\n","import React from 'react';\nimport \"./SourceCard.css\";\nimport \"./Card.css\";\n\nexport default function SourceCard({data, onClick}) {\n\n    return (\n        <div onClick={(ev)=>{onClick(data.itemId)}} className=\"Card\">\n            <span className=\"Avatar ScopeAvatar\">S</span>\n            <span className=\"name\">{data.name}</span>\n            <span className=\"scope\">{data.hostname}</span>\n        </div>\n    );\n}","import React from \"react\";\nimport \"./DetailBox.css\";\n\n\nexport default function DetailBox({title, ...props}) {\n    return <div className=\"DetailBox\">\n        {props.children}\n    </div>\n}","const docco = {\n    \"hljs\": {\n        \"display\": \"block\",\n        \"overflowX\": \"auto\",\n        \"padding\": \"0.5em\",\n        \"color\": \"#000\",\n        \"maxHeight\": \"200px\",\n        'fontSize': \"80%\"\n    },\n    \"hljs-comment\": {\n        \"color\": \"#408080\",\n        \"fontStyle\": \"italic\"\n    },\n    \"hljs-quote\": {\n        \"color\": \"#408080\",\n        \"fontStyle\": \"italic\"\n    },\n    \"hljs-keyword\": {\n        \"color\": \"#954121\"\n    },\n    \"hljs-selector-tag\": {\n        \"color\": \"#954121\"\n    },\n    \"hljs-literal\": {\n        \"color\": \"#954121\"\n    },\n    \"hljs-subst\": {\n        \"color\": \"#954121\"\n    },\n    \"hljs-number\": {\n        \"color\": \"#40a070\"\n    },\n    \"hljs-string\": {\n        \"color\": \"#219161\"\n    },\n    \"hljs-doctag\": {\n        \"color\": \"#219161\"\n    },\n    \"hljs-selector-id\": {\n        \"color\": \"#19469d\"\n    },\n    \"hljs-selector-class\": {\n        \"color\": \"#19469d\"\n    },\n    \"hljs-section\": {\n        \"color\": \"#19469d\"\n    },\n    \"hljs-type\": {\n        \"color\": \"#19469d\"\n    },\n    \"hljs-params\": {\n        \"color\": \"#00f\"\n    },\n    \"hljs-title\": {\n        \"color\": \"#458\",\n        \"fontWeight\": \"bold\"\n    },\n    \"hljs-tag\": {\n        \"color\": \"#000080\",\n        \"fontWeight\": \"normal\"\n    },\n    \"hljs-name\": {\n        \"color\": \"#000080\",\n        \"fontWeight\": \"normal\"\n    },\n    \"hljs-attribute\": {\n        \"color\": \"#000080\",\n        \"fontWeight\": \"normal\"\n    },\n    \"hljs-variable\": {\n        \"color\": \"#008080\"\n    },\n    \"hljs-template-variable\": {\n        \"color\": \"#008080\"\n    },\n    \"hljs-regexp\": {\n        \"color\": \"#b68\"\n    },\n    \"hljs-link\": {\n        \"color\": \"#b68\"\n    },\n    \"hljs-symbol\": {\n        \"color\": \"#990073\"\n    },\n    \"hljs-bullet\": {\n        \"color\": \"#990073\"\n    },\n    \"hljs-built_in\": {\n        \"color\": \"#0086b3\"\n    },\n    \"hljs-builtin-name\": {\n        \"color\": \"#0086b3\"\n    },\n    \"hljs-meta\": {\n        \"color\": \"#999\",\n        \"fontWeight\": \"bold\"\n    },\n    \"hljs-deletion\": {\n        \"background\": \"#fdd\"\n    },\n    \"hljs-addition\": {\n        \"background\": \"#dfd\"\n    },\n    \"hljs-emphasis\": {\n        \"fontStyle\": \"italic\"\n    },\n    \"hljs-strong\": {\n        \"fontWeight\": \"bold\"\n    }\n};\n\nexport default docco;","import React from \"react\";\nimport \"./Headers.css\";\n\nexport function MiniHeader({...props}) {\n    return <div className=\"MiniHeader\">{props.children}</div>\n}","import React from \"react\";\nimport \"./forms/Forms.css\";\nimport \"./ScopeTrackerInfo.css\";\nimport DetailBox from \"./details/DetailBox\";\nimport docco from './TrackerTheme';\nimport {MiniHeader} from \"./Headers\";\nimport SyntaxHighlighter from \"react-syntax-highlighter\";\n\nexport default function ScopeTrackerInfo({scope, trackerHost}) {\n\n    const tracker = \"<script type=\\\"text/javascript\\\">\\n\" +\n        \"    var unomiOption = {\\n\" +\n        \"        scope: '\"+scope+\"',\\n\" +\n        \"        url: '\"+trackerHost+\"'\\n\" +\n        \"    };\\n\" +\n        \"    window.unomiTracker || (window.unomiTracker = {}), function () {\\n\" +\n        \"        function e(e) {\\n\" +\n        \"            for (unomiTracker.initialize({\\\"Apache Unomi\\\": unomiOption}); n.length > 0;) {\\n\" +\n        \"                var r = n.shift(), t = r.shift();\\n\" +\n        \"                unomiTracker[t] && unomiTracker[t].apply(unomiTracker, r)\\n\" +\n        \"            }\\n\" +\n        \"        }\\n\" +\n        \"\\n\" +\n        \"        for (var n = [], r = [\\\"trackSubmit\\\", \\\"trackClick\\\", \\\"trackLink\\\", \\\"trackForm\\\", \\\"initialize\\\", \\\"pageview\\\", \\\"identify\\\", \\\"reset\\\", \\\"group\\\", \\\"track\\\", \\\"ready\\\", \\\"alias\\\", \\\"debug\\\", \\\"page\\\", \\\"once\\\", \\\"off\\\", \\\"on\\\", \\\"personalize\\\"], t = 0; t < r.length; t++) {\\n\" +\n        \"            var i = r[t];\\n\" +\n        \"            window.unomiTracker[i] = function (e) {\\n\" +\n        \"                return function () {\\n\" +\n        \"                    var r = Array.prototype.slice.call(arguments);\\n\" +\n        \"                    return r.unshift(e), n.push(r), window.unomiTracker\\n\" +\n        \"                }\\n\" +\n        \"            }(i)\\n\" +\n        \"        }\\n\" +\n        \"        unomiTracker.load = function () {\\n\" +\n        \"            var n = document.createElement(\\\"script\\\");\\n\" +\n        \"            n.type = \\\"text/javascript\\\", n.async = !0, n.src = unomiOption.url + \\\"/tracker/unomi-tracker.min.js\\\", n.addEventListener ? n.addEventListener(\\\"load\\\", function (n) {\\n\" +\n        \"                \\\"function\\\" == typeof e && e(n)\\n\" +\n        \"            }, !1) : n.onreadystatechange = function () {\\n\" +\n        \"                \\\"complete\\\" !== this.readyState && \\\"loaded\\\" !== this.readyState || e(window.event)\\n\" +\n        \"            };\\n\" +\n        \"            var r = document.getElementsByTagName(\\\"script\\\")[0];\\n\" +\n        \"            r.parentNode.insertBefore(n, r)\\n\" +\n        \"        }, document.addEventListener(\\\"DOMContentLoaded\\\", unomiTracker.load), unomiTracker.page()\\n\" +\n        \"    }();\\n\" +\n        \"</script>\"\n\n    return <DetailBox>\n        <MiniHeader>Please paste this code into your web page</MiniHeader>\n        <SyntaxHighlighter language=\"javascript\" wrapLongLines={true} style={docco}>\n            {tracker}\n        </SyntaxHighlighter>\n    </DetailBox>\n}","const theme = {\n    BASE_FONT_FAMILY: 'Roboto Mono, sans-serif',\n    BASE_FONT_SIZE: '15px',\n    BASE_LINE_HEIGHT: 1.2,\n\n    BASE_BACKGROUND_COLOR: 'transparent',\n    BASE_COLOR: '#bbb',\n\n    OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES: 10,\n    OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES: 5,\n    OBJECT_NAME_COLOR: '#444',\n    OBJECT_VALUE_NULL_COLOR: '#64b5f6',\n    OBJECT_VALUE_UNDEFINED_COLOR: 'rgb(128, 128, 128)',\n    OBJECT_VALUE_REGEXP_COLOR: 'green',\n    OBJECT_VALUE_STRING_COLOR: '#0069c0',\n    OBJECT_VALUE_SYMBOL_COLOR: 'rgb(196, 26, 22)',\n    OBJECT_VALUE_NUMBER_COLOR: '#0a0',\n    OBJECT_VALUE_BOOLEAN_COLOR: '#a00',\n    OBJECT_VALUE_FUNCTION_PREFIX_COLOR: '#aaa',\n\n    HTML_TAG_COLOR: 'rgb(168, 148, 166)',\n    HTML_TAGNAME_COLOR: 'rgb(136, 18, 128)',\n    HTML_TAGNAME_TEXT_TRANSFORM: 'lowercase',\n    HTML_ATTRIBUTE_NAME_COLOR: 'rgb(153, 69, 0)',\n    HTML_ATTRIBUTE_VALUE_COLOR: 'rgb(26, 26, 166)',\n    HTML_COMMENT_COLOR: 'rgb(35, 110, 37)',\n    HTML_DOCTYPE_COLOR: 'rgb(192, 192, 192)',\n\n    ARROW_COLOR: '#6e6e6e',\n    ARROW_MARGIN_RIGHT: 8,\n    ARROW_FONT_SIZE: 10,\n    ARROW_ANIMATION_DURATION: '0',\n\n    TREENODE_FONT_FAMILY: 'Roboto Mono, sans-serif',\n    TREENODE_FONT_SIZE: '13px',\n    TREENODE_LINE_HEIGHT: 1.2,\n    TREENODE_PADDING_LEFT: 10,\n\n    TABLE_BORDER_COLOR: '#888',\n    TABLE_TH_BACKGROUND_COLOR: 'white',\n    TABLE_TH_HOVER_COLOR: 'hsla(0, 0%, 90%, 1)',\n    TABLE_SORT_ICON_COLOR: '#0089e0',\n    TABLE_DATA_BACKGROUND_IMAGE:\n        ' linear-gradient(to bottom, white, white 50%, rgb(234, 243, 243) 50%, rgb(234, 243, 243))',\n    TABLE_DATA_BACKGROUND_SIZE: '100px 32px',\n};\n\nexport default theme;","import Avatar from \"@material-ui/core/Avatar\";\nimport React from \"react\";\nimport \"./DetailHeader.css\";\n\n\nconst DetailHeader = ({label}) => {\n    return <div className=\"DetailHeader\">\n            <div className=\"DetailLabel\">{label}</div>\n        </div>\n}\n\nexport default DetailHeader;","import React from \"react\";\nimport \"./DetailKeyValue.css\";\n\nconst DetailKeyValue = ({label, value}) => {\n    return <div className=\"DetailKeyValue\">\n        <div title={label} className=\"DetailKey\">{label}</div>\n        <div title={value} className='DetailValue'>{value}</div>\n    </div>\n}\n\nexport default DetailKeyValue;","import dot from \"dot-object\";\nimport DetailKeyValue from \"./DetailKeyValue\";\nimport React from \"react\";\n\nexport default function Properties({properties}) {\n\n    function empty(obj) {\n        return obj  && Object.keys(obj).length === 0 && obj.constructor === Object\n    }\n\n    const getValue = (value) => {\n        if(value === null) {\n            return \"null\";\n        } else if(empty(value)) {\n            return \"{}\"\n        } else {\n            return value.toString();\n        }\n    }\n\n    const dotted = typeof properties !== \"undefined\" && properties!==null ? dot.dot(properties) : {};\n    const keyValues = () => Object.entries(dotted).map(\n        ([label, value]) => {\n            return <DetailKeyValue key={label} label={label} value={getValue(value)}/>\n        }\n    )\n    return <React.Fragment>\n        {keyValues()}\n    </React.Fragment>\n}","import React, {useEffect} from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nexport default function ConfirmationDialog({open, title, content, onAgree, onClose}) {\n    return (\n            <Dialog\n                open={open}\n                onClose={onClose}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        {content}\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={onClose} color=\"primary\">\n                        No\n                    </Button>\n                    <Button onClick={onAgree} color=\"primary\" autoFocus>\n                        Yes\n                    </Button>\n                </DialogActions>\n            </Dialog>\n    );\n}\n","import React from \"react\";\nimport ScopeTracerInfo from \"../ScopeTracerInfo\";\nimport theme from \"../../../themes/inspector_light_theme\";\nimport {ObjectInspector} from \"react-inspector\";\nimport \"../lists/cards/SourceCard.css\";\nimport \"./SourceDetails.css\";\nimport DetailBox from \"./DetailBox\";\nimport DetailHeader from \"./DetailHeader\";\nimport {MiniHeader} from \"../Headers\";\nimport {Button} from \"@material-ui/core\";\nimport \"./Details.css\";\nimport Properties from \"./DetailProperties\";\nimport ConfirmationDialog from \"../misc/ConfirmationDialog\";\n\nexport default function SourceDetails({data, onDelete}) {\n\n    const [openConfirmation, setOpenConfirmation] = React.useState(false);\n\n    const onClick = () => {\n        setOpenConfirmation(true);\n    }\n\n    const onConfirmedDelete = () => {\n        setOpenConfirmation(false);\n        onDelete(data.itemId)\n    }\n\n    const onDeleteClose = () => {\n        setOpenConfirmation(false);\n    }\n\n    return <React.Fragment>\n        <DetailHeader label={data.name}/>\n\n        <div className=\"RightTabScroller\" style={{height: \"calc(100% - 166px)\"}}>\n            <DetailBox>\n                <MiniHeader>Data</MiniHeader>\n                <Properties properties={data}/>\n            </DetailBox>\n            <ScopeTracerInfo scope={data.name} trackerHost={data.hostname}/>\n            <DetailBox>\n                <MiniHeader>GET /scope</MiniHeader>\n                <ObjectInspector data={data} theme={theme} expandLevel={3}/>\n            </DetailBox>\n        </div>\n        <div className=\"DetailActionButtons\">\n            <Button onClick={onClick} variant=\"outlined\" color=\"primary\">\n                Delete\n            </Button>\n            <ConfirmationDialog open={openConfirmation} title=\"Do you want to delete this source?\"\n                                content=\"This action can not be undone.\" onClose={onDeleteClose}\n                                onAgree={onConfirmedDelete}\n            />\n        </div>\n    </React.Fragment>\n\n}","import React from \"react\";\nimport \"./TopInfoBar.css\";\nimport {useHistory} from \"react-router-dom\";\nimport {Button} from \"@material-ui/core\";\n\nexport default function TopInfoBar({children, buttons}) {\n\n    const history = useHistory();\n\n    const logout = () => {\n        history.push('/app/logout')\n    };\n\n    const renderButtons = () => {\n        if(Array.isArray(buttons)) {\n            return buttons.map((v) => {\n                return v;\n            });\n        }\n    }\n\n    return <nav className=\"TopInfoBar\">\n        <div className=\"Path\">\n            {children}\n        </div>\n        <div className=\"ActionButtons\">\n            {renderButtons()}\n        </div>\n        <div className=\"LogOutButton\">\n            <Button variant=\"outlined\" onClick={logout}>\n                Logout\n            </Button>\n        </div>\n\n    </nav>\n}","import React from \"react\";\nimport {Button} from \"@material-ui/core\";\nimport {connect} from \"react-redux\";\nimport {openRightPaper} from \"../../../../redux/reducers/rightPaperSlice\";\n\n\nfunction ActionButton({buttonLabel, anchor, width, caseId, openRightPaper, style}) {\n\n    const onClick = () => {\n        openRightPaper({caseId, width, anchor})\n    }\n\n    return <Button onClick={onClick} color=\"primary\" variant=\"outlined\" style={style}>\n        {buttonLabel}\n    </Button>\n}\n\nconst mapProps = (state) => {\n    return {}\n}\nexport default connect(\n    mapProps,{\n        openRightPaper,\n    }\n)(ActionButton)","import React from \"react\";\nimport {useHistory, useLocation} from \"react-router-dom\";\nimport \"./Breadcrumps.css\";\n\nexport default function Breadcrumps() {\n\n    const location = useLocation();\n    const history = useHistory();\n\n    function getFromPathName() {\n        let path = \"\";\n        return location.pathname.split(\"/\").map((label) => {\n            if (label !== \"\") {\n                path = path + \"/\" + label;\n                return <span key={label}> &gt; {label}</span>\n            } else {\n                return <span key={label}>Home</span>\n            }\n        })\n    }\n\n    return <div className=\"Breadcrumps\">\n        {getFromPathName()}\n    </div>\n}","import React from \"react\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport \"./CenteredCircularProgress.css\"\n\nexport default function CenteredCircularProgress() {\n    return <div className=\"CenteredCircularProgress\">\n            <CircularProgress color=\"secondary\" />\n        </div>\n}","import {connect} from \"react-redux\";\nimport React from \"react\";\nimport {deleteData, getData} from \"../../remote_api/uql_api_endpoint\";\nimport ListDetailView from \"../elements/ListDetailView\";\nimport FilterListWrapper from \"../elements/FilterListWrapper\";\nimport SourceCard from \"../elements/lists/cards/SourceCard\";\nimport SourceDetails from \"../elements/details/SourceDetails\";\nimport TopInfoBar from \"../TopInfoBar\";\nimport ActionButton from \"../elements/buttons/rule/ActionButton\";\nimport Breadcrumps from \"../elements/misc/Breadcrumps\";\nimport CenteredCircularProgress from \"../elements/progress/CenteredCircularProgress\";\nimport {showAlert} from \"../../redux/reducers/alertSlice\";\n\nconst Sources = ({showAlert}) => {\n\n    const [loading, setLoading] = React.useState(false);\n    const [error, setError] = React.useState(false);\n    const [ready, setReady] = React.useState(false);\n    const [deleteResponse, setDeleteResponse] = React.useState(false);\n\n    const onClick = (id) => {\n        getData('/source/'+id, setLoading, setError, setReady)\n    }\n\n    const onDeleteOk = (data) => {\n        setDeleteResponse(data);\n        setReady(false);\n    }\n\n    const onDelete = (id) => {\n        deleteData('/source/' + id, ()=>{}, ()=>{}, onDeleteOk);\n    }\n\n    const details = () =>  {\n        if(loading===true) {\n            return <CenteredCircularProgress/>\n        } else if (ready !== false) {\n            return <SourceDetails data={ready.data} onDelete={onDelete}/>\n        } else if (error !== false) {\n            showAlert({message: error.message, type: \"error\", hideAfter:2000});\n            return \"\"\n        }\n    }\n\n    const blocks = () => (<FilterListWrapper\n        endPoinyUrl=\"/source/select\"\n        renderList={\n            (data) => {\n                return data.map((row, index) => (\n                    <SourceCard key={index} data={row} onClick={onClick}/>\n                ))\n            }\n        }\n        filterLabel=\"Type scope name to filter\"\n        filterKey=\"filterScopeQuery\"\n    />);\n\n    return <React.Fragment>\n        <TopInfoBar buttons={[<ActionButton buttonLabel=\"Add source\" anchor=\"right\" width={1000} caseId=\"AddSourceForm\"/>]}>\n            <Breadcrumps/>\n        </TopInfoBar>\n        <ListDetailView list={blocks} detail={details}/>\n\n    </React.Fragment>\n\n}\n\nconst mapProps = (state) => {\n    return {\n\n    }\n}\nexport default connect(\n    mapProps,\n    {showAlert}\n)(Sources)\n","import React from 'react';\nimport {DataGrid} from '@material-ui/data-grid';\nimport {connect} from \"react-redux\";\nimport {showAlert} from \"../../../../redux/reducers/alertSlice\";\n\nexport function EventDataGrid({data, onClick}) {\n\n    const columns = [\n        {\n            field: 'scope',\n            headerName: 'Scope',\n            flex: .3,\n        }, {\n            field: 'type',\n            headerName: 'Type',\n            flex: .3,\n            renderCell: (params) => {\n                return (<span style={{textDecoration: \"underline\", cursor: \"pointer\"}}\n                              onClickCapture={() => onClick(params.getValue('eventId'))}>\n                    {params.value}\n                </span>)\n            }\n        },\n        {\n            field: 'timestamp',\n            headerName: 'Timestamp',\n            flex: .4,\n            type: 'dateTime'\n        }\n    ];\n\n    return <DataGrid rows={data} rowHeight={35} pageSize={20} columns={columns}/>\n\n}\n\nconst mapProps = () => {\n    return {}\n}\n\nexport default connect(\n    mapProps,\n    {\n        showAlert,\n    },\n)(EventDataGrid)\n","import React from 'react';\nimport \"./Card.css\";\nimport \"./EventCard.css\";\n\nexport default function EventCard({data, onClick}) {\n\n    return (\n        <div onClick={(ev)=>{onClick(data.eventId)}} className=\"Card\">\n            <span className=\"Avatar EventAvatar\">E</span>\n            <span className=\"scope\">{data.scope}</span>\n            <span className=\"type\">{data.type}</span>\n            <span className=\"timestamp\">{data.timestamp}</span>\n        </div>\n    );\n}\n\n","import React from \"react\";\nimport theme from \"../../../themes/inspector_light_theme\";\nimport {ObjectInspector} from \"react-inspector\";\nimport \"../lists/cards/SourceCard.css\";\nimport \"./RuleDetails.css\";\nimport DetailBox from \"./DetailBox\";\nimport {MiniHeader} from \"../Headers\";\nimport DetailHeader from \"./DetailHeader\";\nimport Properties from \"./DetailProperties\";\nimport \"./Details.css\";\n\nexport default function EventDetails({data}) {\n\n    function Ids({data}) {\n        const ids = {\n            \"Event Id\": data.itemId,\n            \"Session id\": data.sessionId,\n            \"Profile id\": data.profileId\n        }\n\n        return <Properties properties={ids}/>\n    }\n\n    function Other({data}) {\n        const ids = {\n            \"Event Type\": data.eventType,\n            \"Scope\": data.scope,\n            \"Persistent\": data.persistent,\n            \"Version\": data.version,\n            \"Timestamp\": data.timeStamp\n        }\n\n        return <Properties properties={ids}/>\n    }\n\n    return <div style={{height: \"inherit\"}}>\n        <DetailHeader label={data.itemId}/>\n\n        <div className=\"RightTabScroller\">\n\n            <DetailBox>\n                <MiniHeader>Ids</MiniHeader>\n                <Ids data={data}/>\n            </DetailBox>\n\n            <DetailBox>\n                <MiniHeader>Properties</MiniHeader>\n                <Properties properties={data.properties}/>\n            </DetailBox>\n\n            <DetailBox>\n                <MiniHeader>Source</MiniHeader>\n                <Properties properties={data.source}/>\n            </DetailBox>\n\n            <DetailBox>\n                <MiniHeader>Target</MiniHeader>\n                <Properties properties={data.target}/>\n            </DetailBox>\n\n            <DetailBox>\n                <MiniHeader>Other</MiniHeader>\n                <Other data={data}/>\n            </DetailBox>\n\n            <DetailBox>\n                <MiniHeader>Raw UNOMI data</MiniHeader>\n                <ObjectInspector data={data} theme={theme} expandLevel={3}/>\n            </DetailBox>\n\n        </div>\n    </div>;\n\n}","import {connect} from \"react-redux\";\nimport React from \"react\";\nimport EventDataGrid from \"../elements/lists/grids/EventDataGrid\";\nimport {getData} from \"../../remote_api/uql_api_endpoint\";\nimport EventCard from \"../elements/lists/cards/EventCard\";\nimport FilterListWrapper from \"../elements/FilterListWrapper\";\nimport ListDetailView from \"../elements/ListDetailView\";\nimport EventDetails from \"../elements/details/EventDetails\";\nimport CenteredCircularProgress from \"../elements/progress/CenteredCircularProgress\";\nimport Breadcrumps from \"../elements/misc/Breadcrumps\";\nimport TopInfoBar from \"../TopInfoBar\";\n\n\nconst Events = () => {\n\n    const [loading, setLoading] = React.useState(false);\n    const [error, setError] = React.useState(false);\n    const [ready, setReady] = React.useState(false);\n\n    const onClick = (id) => {\n        console.log(id);\n        getData('/event/' + id, setLoading, setError, setReady)\n    }\n\n    const eventDetails = () => {\n        if (ready !== false) {\n            return <EventDetails data={ready.data}></EventDetails>\n        } else if(loading === true) {\n            return <CenteredCircularProgress/>\n        }\n    }\n\n    const blocks = () => (<FilterListWrapper\n        endPoinyUrl=\"/event/select\"\n        renderList={\n            (data) => {\n                return data.map((row, index) => (\n                    <EventCard key={index} data={row} onClick={onClick}/>\n                ))\n            }\n        }\n        filterLabel=\"Type condition to filter events\"\n        filterKey=\"filterEventQuery\"\n    />);\n\n    const grid = () => <FilterListWrapper\n        endPoinyUrl=\"/event/select\"\n        renderList={\n            (data) => {\n                return <EventDataGrid onClick={onClick} data={data}></EventDataGrid>\n            }\n        }\n        filterLabel=\"Type condition to filter events\"\n        filterKey=\"filterEventQuery\"\n    />\n\n    return <React.Fragment>\n        <TopInfoBar>\n            <Breadcrumps/>\n        </TopInfoBar>\n        <ListDetailView list={blocks} detail={eventDetails}/>\n    </React.Fragment>\n\n\n}\n\nconst mapProps = (state) => {\n    return {\n        notification: state.notificationReducer,\n    }\n};\nexport default connect(\n    mapProps,\n)(Events)\n","import React from 'react';\nimport {DataGrid} from '@material-ui/data-grid';\nimport {connect} from \"react-redux\";\nimport {showAlert} from \"../../../../redux/reducers/alertSlice\";\n\nexport function RuleDataGrid({onClick, data}) {\n\n    const columns = [\n        {\n            field: 'scope',\n            headerName: 'Scope',\n            width: 100\n        },{\n            field: 'name', headerName: 'Name',\n            flex: 1,\n            renderCell: (params) => {\n                return (\n                    <span style={{textDecoration:\"underline\", cursor:\"pointer\"}} onClickCapture={() => onClick(params.getValue('ruleId'))} >\n                        {params.value}\n\n                    </span>\n                )}\n        }\n    ];\n\n    return <DataGrid rows={data} rowHeight={35} pageSize={20} columns={columns}/>\n\n}\n\nconst mapProps = () => {\n    return {}\n}\n\nexport default connect(\n    mapProps,\n    {\n        showAlert,\n    },\n)(RuleDataGrid)\n","import React from 'react';\nimport \"./Card.css\";\nimport \"./RuleCard.css\";\n\nexport default function RuleCard({data, onClick}) {\n\n    return (\n            <div onClick={(ev)=>{onClick(data.metadata.id)}} className=\"Card RuleCard\">\n                <span className={\"Avatar\" + (data.metadata.enabled ? \" RuleAvatarEnabled\" : \" RuleAvatarDisabled\")}>R</span>\n                <span className=\"scope\">{data.metadata.scope}</span>\n                <span className=\"name\">{data.metadata.name}</span>\n            </div>\n    );\n}\n","import React from \"react\";\nimport {ThemeProvider} from \"@material-ui/styles\";\nimport Switch from \"@material-ui/core/Switch\";\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\nimport {request} from \"../../../remote_api/uql_api_endpoint\";\n\nexport default function MetaSwitches({index, id, meta}) {\n\n    const [enabled, setEnabled] = React.useState(meta.enabled);\n    const [hidden, setHidden] = React.useState(meta.hidden);\n    const [readOnly, setReadOnly] = React.useState(meta.readOnly);\n    const [missingPlugins, setMissingPlugins] = React.useState(meta.missingPlugins);\n\n    const switchTheme = createMuiTheme({\n        typography: {\n            body1: {\n                fontSize: 14,\n            }\n        },\n        palette: {\n            primary: {\n                main: '#19857b',\n            }\n        }\n    })\n\n    const none = () => {\n    }\n    const onError = () => {\n    }\n\n    const toggle = (ev, type, onChange) => {\n        const value = ev.target.checked;\n        let config = {\n            url: index + '/' + id,\n            method: \"put\",\n            data: {\n                doc: {\n                    metadata: {\n\n                    }\n                }\n            }\n        }\n        config.data.doc.metadata[type] = value\n        request(\n            config,\n            none,\n            onError,\n            () => {\n                onChange(value)\n            }\n        );\n    }\n\n    const onEnabled = (ev) => {\n        toggle(ev, \"enabled\", setEnabled);\n    }\n\n    const onReadOnly = (ev) => {\n        toggle(ev, \"readOnly\", setReadOnly);\n    }\n\n    const onHidden = (ev) => {\n        toggle(ev, \"hidden\", setHidden);\n    }\n\n    const onMissingPlugins = (ev) => {\n        toggle(ev, \"missingPlugins\", setMissingPlugins);\n    }\n\n    const SwitchRow = ({label, value, onChange}) => {\n        return <div className=\"RuleSwitch\">\n            <div className=\"RuleSwitchLabel\">{label}</div>\n            <Switch checked={value} onChange={onChange} color=\"primary\" size=\"small\"/>\n        </div>\n    }\n\n    return <ThemeProvider theme={switchTheme}>\n        <SwitchRow label=\"Enabled\" value={enabled} onChange={onEnabled}/>\n        <SwitchRow label=\"Read only\" value={readOnly} onChange={onReadOnly}/>\n        <SwitchRow label=\"Hidden\" value={hidden} onChange={onHidden}/>\n        <SwitchRow label=\"Missing plugins\" value={missingPlugins} onChange={onMissingPlugins}/>\n    </ThemeProvider>\n}","import React from \"react\";\nimport theme from \"../../../themes/inspector_light_theme\";\nimport {ObjectInspector} from \"react-inspector\";\nimport \"../lists/cards/SourceCard.css\";\nimport DetailBox from \"./DetailBox\";\nimport {MiniHeader} from \"../Headers\";\nimport DetailHeader from \"./DetailHeader\";\nimport \"./Details.css\";\nimport \"./RuleDetails.css\";\nimport {Button} from \"@material-ui/core\";\nimport ConfirmationDialog from \"../misc/ConfirmationDialog\";\nimport MetaSwitches from \"../misc/MetaSwitches\";\n\nfunction RuleDetails({data, onDelete}) {\n\n    const [openConfirmation, setOpenConfirmation] = React.useState(false);\n\n    const UqlDetails = ({data}) => {\n        if (typeof data.uql !== \"undefined\") {\n            return <React.Fragment>\n\n                <DetailBox>\n                    <MiniHeader>WHEN</MiniHeader>\n                    {data.uql.condition}\n                </DetailBox>\n\n                <DetailBox>\n                    <MiniHeader>THEN</MiniHeader>\n                    {data.uql.actions}\n                </DetailBox>\n\n                <DetailBox>\n                    <MiniHeader>UQL create statement</MiniHeader>\n                    {data.uql.uql}\n                </DetailBox>\n\n            </React.Fragment>\n        }\n        return \"\";\n    }\n\n    const onDeleteClick = () => {\n        setOpenConfirmation(true);\n    }\n\n    const onConfirmedDelete = () => {\n        setOpenConfirmation(false);\n        onDelete(data.unomi.metadata.id)\n    }\n\n    const onDeleteClose = () => {\n        setOpenConfirmation(false);\n    }\n\n    return <div style={{height: \"inherit\"}}>\n        <DetailHeader label={data.unomi.metadata.name}/>\n\n        <div className=\"RightTabScroller\" style={{height: \"calc(100% - 161px)\"}}>\n\n            {data.unomi.metadata.description && <DetailBox>\n                <MiniHeader>description</MiniHeader>\n                {data.unomi.metadata.description}\n            </DetailBox>}\n\n            <UqlDetails data={data}/>\n\n            <DetailBox>\n                <MiniHeader>scope</MiniHeader>\n                {data.unomi.metadata.scope}\n            </DetailBox>\n\n            <DetailBox>\n                <MetaSwitches index=\"rule\" id={data.unomi.itemId} meta={data.unomi.metadata}/>\n            </DetailBox>\n            <DetailBox>\n                <MiniHeader>Raw unomi data</MiniHeader>\n                <ObjectInspector data={data} theme={theme} expandLevel={2}/>\n            </DetailBox>\n\n        </div>\n        <div className=\"DetailActionButtons\">\n            <Button onClick={onDeleteClick} variant=\"outlined\" color=\"primary\">\n                Delete\n            </Button>\n            <ConfirmationDialog open={openConfirmation} title=\"Do you want to delete this rule?\"\n                                content=\"This action can not be undone.\" onClose={onDeleteClose}\n                                onAgree={onConfirmedDelete}\n            />\n        </div>\n    </div>\n\n}\n\nexport default RuleDetails;\n","import {connect} from \"react-redux\";\nimport React from \"react\";\nimport RuleDataGrid from \"../elements/lists/grids/RuleDataGrid\";\nimport {deleteData, getData} from \"../../remote_api/uql_api_endpoint\";\nimport ListDetailView from \"../elements/ListDetailView\";\nimport FilterListWrapper from \"../elements/FilterListWrapper\";\nimport RuleCard from \"../elements/lists/cards/RuleCard\";\nimport RuleDetails from \"../elements/details/RuleDetails\";\nimport CenteredCircularProgress from \"../elements/progress/CenteredCircularProgress\";\nimport TopInfoBar from \"../TopInfoBar\";\nimport Breadcrumps from \"../elements/misc/Breadcrumps\";\nimport ActionButton from \"../elements/buttons/rule/ActionButton\";\nimport {showAlert} from \"../../redux/reducers/alertSlice\";\n\nconst Rules = ({showAlert}) => {\n\n    const [loadingDetails, setLoadingDetails] = React.useState(false);\n    const [errorDetails, setErrorDetails] = React.useState(false);\n    const [ready, setReady] = React.useState(false);\n    const [deleteResponse, setDeleteResponse] = React.useState(false);\n\n    const none = () => {}\n\n    const onDeleteOk = (data) => {\n        setDeleteResponse(data);\n        setReady(false);\n    }\n\n    const onClick = (id) => {\n        getData('/rule/' + id, setLoadingDetails, setErrorDetails, setReady);\n    }\n\n    const onDelete = (id) => {\n        deleteData('/rule/' + id, none, none, onDeleteOk);\n    }\n\n    const details = () => {\n        if (ready !== false) {\n            return <RuleDetails data={ready.data} onDelete={onDelete}/>\n        } else if(loadingDetails === true) {\n            return <CenteredCircularProgress/>\n        } else if (errorDetails !== false) {\n            showAlert({message: errorDetails, type: \"error\", hideAfter:2000});\n            return \"\"\n        }\n    }\n\n    const blocks = () => {\n        return <FilterListWrapper\n            endPoinyUrl=\"/rule/select\"\n            renderList={\n                (data) => {\n                    return data.map((row, index) => (\n                        <RuleCard key={index} data={row} onClick={onClick}/>\n                    ))\n                }\n            }\n            filterLabel=\"Type condition to filter rules\"\n            filterKey=\"filterRuleQuery\"\n        />\n    }\n\n    const grid = () => <FilterListWrapper\n        endPoinyUrl=\"/rule/select\"\n        renderList={\n            (data) => {\n                return <RuleDataGrid onClick={onClick} data={data}></RuleDataGrid>\n            }\n        }\n        filterLabel=\"Type condition to filter rules\"\n        filterHelper='Example: scope=\"my-site-1\" AND type=\"view\"'\n        filterKey=\"ruleEventQuery\"\n    />\n\n    return <React.Fragment>\n\n        <TopInfoBar buttons={[<ActionButton buttonLabel=\"Add rule\" anchor=\"right\" width={1000} caseId=\"AddRuleForm\"/>]}>\n            <Breadcrumps/>\n        </TopInfoBar>\n        <ListDetailView list={blocks} detail={details}/>\n\n    </React.Fragment>\n\n\n}\n\nconst mapProps = (state) => {\n    return {\n\n    }\n}\nexport default connect(\n    mapProps,\n    {showAlert}\n)(Rules)\n","import React from 'react';\nimport {DataGrid} from '@material-ui/data-grid';\nimport {connect} from \"react-redux\";\nimport {showAlert} from \"../../../../redux/reducers/alertSlice\";\n\nexport function SegmentDataGrid({data, onClick}) {\n\n    const columns = [\n        {\n            field: 'scope',\n            headerName: 'Scope',\n            flex: .3,\n        }, {\n            field: 'name',\n            headerName: 'Name',\n            flex: .3,\n            renderCell: (params) => {\n                return (<span style={{textDecoration: \"underline\", cursor: \"pointer\"}}\n                              onClickCapture={() => onClick(params.getValue('segmentId'))}>\n                    {params.value}\n                </span>)\n            }\n        },\n        {\n            field: 'description',\n            headerName: 'Description',\n            flex: .4\n        }\n    ];\n\n    return <DataGrid rows={data} rowHeight={35} pageSize={20} columns={columns}/>\n\n}\n\nconst mapProps = () => {\n    return {}\n}\n\nexport default connect(\n    mapProps,\n    {\n        showAlert,\n    },\n)(SegmentDataGrid)\n","import React from \"react\";\nimport theme from \"../../../themes/inspector_light_theme\";\nimport {ObjectInspector} from \"react-inspector\";\nimport \"../lists/cards/SourceCard.css\";\nimport \"./RuleDetails.css\";\nimport DetailBox from \"./DetailBox\";\nimport {MiniHeader} from \"../Headers\";\nimport DetailHeader from \"./DetailHeader\";\nimport {Button} from \"@material-ui/core\";\nimport \"./Details.css\";\nimport ConfirmationDialog from \"../misc/ConfirmationDialog\";\nimport MetaSwitches from \"../misc/MetaSwitches\";\n\nexport default function SegmentDetails({data, onDelete}) {\n\n    const [openConfirmation, setOpenConfirmation] = React.useState(false);\n\n    const UqlDetails = ({data}) => {\n        if (typeof data.uql !== \"undefined\") {\n            return <React.Fragment>\n\n                <DetailBox>\n                    <MiniHeader>WHEN</MiniHeader>\n                    {data.uql.condition}\n                </DetailBox>\n\n                <DetailBox>\n                    <MiniHeader>UQL create statement</MiniHeader>\n                    {data.uql.uql}\n                </DetailBox>\n            </React.Fragment>\n        }\n        return \"\";\n    }\n\n    const onClick = () => {\n        setOpenConfirmation(true);\n    }\n\n    const onConfirmedDelete = () => {\n        setOpenConfirmation(false);\n        onDelete(data.meta.id);\n    }\n\n    const onDeleteClose = () => {\n        setOpenConfirmation(false);\n    }\n\n    return <React.Fragment>\n        <DetailHeader label={data.meta.name}/>\n\n        <div className=\"RightTabScroller\" style={{height: \"calc(100% - 161px)\"}}>\n\n            <DetailBox>\n                <MiniHeader>description</MiniHeader>\n                {data.meta.description}\n            </DetailBox>\n\n            <UqlDetails data={data}/>\n\n            <DetailBox>\n                <MiniHeader>scope</MiniHeader>\n                {data.meta.scope}\n            </DetailBox>\n\n            <DetailBox>\n                <MiniHeader>metadata</MiniHeader>\n                <MetaSwitches index=\"segment\" id={data.meta.id} meta={data.meta}/>\n            </DetailBox>\n\n            <DetailBox>\n                <MiniHeader>Raw UNOMI Data</MiniHeader>\n                <ObjectInspector data={data} theme={theme} expandLevel={3}/>\n            </DetailBox>\n        </div>\n        <div className=\"DetailActionButtons\">\n            <Button onClick={onClick} variant=\"outlined\" color=\"primary\">\n                Delete\n            </Button>\n            <ConfirmationDialog open={openConfirmation} title=\"Do you want to delete this segment?\"\n                                content=\"This action can not be undone.\" onClose={onDeleteClose}\n                                onAgree={onConfirmedDelete}\n            />\n        </div>\n    </React.Fragment>\n\n}","import React from 'react';\nimport \"./SegmentCard.css\";\nimport \"./Card.css\";\n\nexport default function SegmentCard({data, onClick}) {\n\n    return (\n        <div onClick={(ev)=>{onClick(data.segmentId)}} className=\"Card\">\n            <span className={\"Avatar\" + (data.enabled ? \" SegmentAvatarEnabled\" : \" SegmentAvatarDisabled\")}>S</span>\n            <span className=\"scope\">{data.scope}</span>\n            <span className=\"name\">{data.name}</span>\n        </div>\n    );\n}","import LinearProgress from \"@material-ui/core/LinearProgress\";\nimport React from \"react\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport {connect} from \"react-redux\";\n\nfunction TopProgress({progressBar}) {\n\n    const useStyles = makeStyles(() => ({\n        root: {\n            width: '100%',\n        },\n        progress: {\n            background: 'transparent',\n        },\n    }));\n    const classes = useStyles();\n\n    return <div className={classes.root}>\n        <LinearProgress className={classes.progress} color=\"secondary\" variant=\"determinate\" value={progressBar.progress}/>\n    </div>\n}\n\nconst mapProps = (state) => {\n    return {\n        progressBar: state.progressReducer,\n    }\n}\n\nexport default connect(mapProps)(TopProgress)\n","import {connect} from \"react-redux\";\nimport React from \"react\";\nimport SegmentDataGrid from \"../elements/lists/grids/SegmentDataGrid\";\nimport {deleteData, getData} from \"../../remote_api/uql_api_endpoint\";\nimport SegmentDetails from \"../elements/details/SegmentDetails\";\nimport ListDetailView from \"../elements/ListDetailView\";\nimport FilterListWrapper from \"../elements/FilterListWrapper\";\nimport SegmentCard from \"../elements/lists/cards/SegmentCard\";\nimport TopInfoBar from \"../TopInfoBar\";\nimport Breadcrumps from \"../elements/misc/Breadcrumps\";\nimport ActionButton from \"../elements/buttons/rule/ActionButton\";\nimport TopProgress from \"../menu/TopProgress\";\n\n\nconst Segments = () => {\n\n    const [loading, setLoading] = React.useState(false);\n    const [error, setError] = React.useState(false);\n    const [ready, setReady] = React.useState(false);\n    const [deleteResponse, setDeleteResponse] = React.useState(false);\n\n    const none = () => {}\n\n    const onDeleteOk = (data) => {\n        setDeleteResponse(data);\n        setReady(false);\n    }\n    const onClick = (id) => {\n        getData('/segment/' + id, setLoading, setError, setReady)\n    }\n\n    const onDelete = (id) => {\n        deleteData('/segment/' + id, none, none, onDeleteOk);\n    }\n\n    const details = () => {\n        if (ready != false) {\n            return <SegmentDetails data={ready.data} onDelete={onDelete}/>\n        }\n    }\n\n    const grid = () => <FilterListWrapper\n        endPoinyUrl=\"/segment/select\"\n        renderList={\n            (data) => {\n                return <SegmentDataGrid onClick={onClick} data={data}></SegmentDataGrid>\n            }\n        }\n        filterLabel=\"Type condition to filter segments\"\n        filterKey=\"segmentFilterQuery\"\n    />\n\n    const blocks = () => {\n        return <FilterListWrapper\n            endPoinyUrl=\"/segment/select\"\n            renderList={\n                (data) => {\n                    return data.map((row, index) => (\n                        <SegmentCard key={index} data={row} onClick={onClick}/>\n                    ))\n                }\n            }\n            filterLabel=\"Type condition to filter segments\"\n            filterKey=\"segmentFilterQuery\"\n        />\n    }\n\n    return <React.Fragment>\n\n        <TopInfoBar buttons={[<ActionButton buttonLabel=\"Add segment\" anchor=\"right\" width={1000} caseId=\"AddSegmentForm\"/>]}>\n            <Breadcrumps/>\n        </TopInfoBar>\n        <ListDetailView list={blocks} detail={details}/>\n\n    </React.Fragment>;\n}\n\nconst mapProps = (state) => {\n    return {\n        notification: state.notificationReducer,\n        uqlQuery: state.uqlReducer,\n    }\n}\nexport default connect(\n    mapProps,\n)(Segments)\n","import React from 'react';\nimport \"./ProfileCard.css\";\nimport \"./Card.css\";\n\nexport default function ProfileCard({data, onClick}) {\n\n    return (\n        <div onClick={(ev) => {\n            onClick(data.profileId)\n        }} className=\"Card\">\n            <span className=\"Avatar ProfileAvatar\">P</span>\n            <span className=\"name\">{data.profileId}</span>\n        </div>\n    );\n}","import React from \"react\";\nimport theme from \"../../../themes/inspector_light_theme\";\nimport {ObjectInspector} from \"react-inspector\";\nimport \"../lists/cards/SourceCard.css\";\nimport \"./RuleDetails.css\";\nimport DetailBox from \"./DetailBox\";\nimport {MiniHeader} from \"../Headers\";\nimport DetailHeader from \"./DetailHeader\";\nimport \"./Details.css\";\nimport Properties from \"./DetailProperties\";\n\nexport default function ProfileDetails({data}) {\n\n\n    return <div style={{height: \"inherit\"}}>\n        <DetailHeader label={data.itemId}/>\n        <div className=\"RightTabScroller\">\n\n            <DetailBox>\n                <MiniHeader>Version</MiniHeader>\n                {data.version}\n            </DetailBox>\n\n            <DetailBox>\n                <MiniHeader>Properties</MiniHeader>\n                <Properties properties={data.properties}/>\n            </DetailBox>\n\n            <DetailBox>\n                <MiniHeader>System Properties</MiniHeader>\n                <Properties properties={data.systemProperties}/>\n            </DetailBox>\n\n            <DetailBox>\n                <MiniHeader>Segments</MiniHeader>\n                <Properties properties={data.segments}/>\n            </DetailBox>\n\n            <DetailBox>\n                <MiniHeader>Raw Unomi data</MiniHeader>\n                <ObjectInspector data={data} theme={theme} expandLevel={3}/>\n            </DetailBox>\n        </div>\n    </div>;\n\n}","import {connect} from \"react-redux\";\nimport React from \"react\";\nimport RuleDataGrid from \"../elements/lists/grids/RuleDataGrid\";\nimport {getData} from \"../../remote_api/uql_api_endpoint\";\nimport ListDetailView from \"../elements/ListDetailView\";\nimport FilterListWrapper from \"../elements/FilterListWrapper\";\nimport ProfileCard from \"../elements/lists/cards/ProfileCard\";\nimport ProfileDetails from \"../elements/details/ProfileDetails\";\nimport TopInfoBar from \"../TopInfoBar\";\nimport Breadcrumps from \"../elements/misc/Breadcrumps\";\n\nconst Profiles = () => {\n\n    const [loading, setLoading] = React.useState(false);\n    const [error, setError] = React.useState(false);\n    const [ready, setReady] = React.useState(false);\n\n\n    const onClick = (id) => {\n        getData('/profile/'+id, setLoading, setError, setReady)\n    }\n\n    const details = () =>  {\n        if (ready != false) {\n            return <ProfileDetails data={ready.data}/>\n        }\n    }\n\n    const blocks = () => (<FilterListWrapper\n        endPoinyUrl=\"/profile/select\"\n        renderList={\n            (data) => {\n                return data.map((row, index) => (\n                    <ProfileCard key={index} data={row} onClick={onClick}/>\n                ))\n            }\n        }\n        filterLabel=\"Type condition to filter profiles\"\n        filterKey=\"filterProfileQuery\"\n    />);\n\n    const grid = () => <FilterListWrapper\n        endPoinyUrl=\"/profile/select\"\n        renderList={\n            (data) => {\n                return <RuleDataGrid onClick={onClick} data={data}></RuleDataGrid>\n            }\n        }\n        filterLabel=\"Type condition to filter profiles\"\n        filterKey=\"filterProfileQuery\"\n    />\n\n    return <React.Fragment>\n\n        <TopInfoBar>\n            <Breadcrumps/>\n        </TopInfoBar>\n        <ListDetailView list={blocks} detail={details}/>\n\n    </React.Fragment>\n}\n\nconst mapProps = (state) => {\n    return {\n        notification: state.notificationReducer,\n    }\n}\nexport default connect(\n    mapProps,\n)(Profiles)\n","import React from \"react\";\nimport \"./MethodTag.css\";\n\nexport default function MethodTag({method}) {\n    const methodName = method.toUpperCase() + \"Tag\";\n    return <span className={methodName + \" MethodTag\"}>{method.toUpperCase()}</span>\n}","import React from \"react\";\nimport \"./StatusCodeTag.css\";\n\nexport default function StatusCodeTag({...props}) {\n    const methodName = \"StatusCode\" + props.children;\n    return <span className={methodName + \" StatusCodeTag\"}>{props.children}</span>\n}","import React, {useEffect} from \"react\";\nimport \"./QueryResponseColumns.css\";\nimport PlayArrow from '@material-ui/icons/PlayArrow';\nimport theme from \"../../themes/inspector_light_theme\";\nimport {ObjectInspector} from \"react-inspector\";\nimport MethodTag from \"./misc/MethodTag\";\nimport StatusCodeTag from \"./misc/StatusCodeTag\";\nimport {fetchData, putData} from \"../../remote_api/uql_api_endpoint\";\nimport CenteredCircularProgress from \"./progress/CenteredCircularProgress\";\nimport JSONInput from 'react-json-editor-ajrm';\nimport locale    from 'react-json-editor-ajrm/locale/en';\n\n\nfunction QueryResponseColumns({uql}) {\n\n    const [rightLoading, setRightLoading] = React.useState(false);\n    const [rightError, setRightError] = React.useState(false);\n    const [leftLoading, setLeftLoading] = React.useState(false);\n    const [leftError, setLeftError] = React.useState(false);\n    const [requestJson, setRequestJson] = React.useState(false);\n    const [responseJson, setResponseJson] = React.useState(false);\n    const [jsonStatus, setJsonStatus] = React.useState(\"OK\");\n    const [disablePlay, setDisablePlay] = React.useState(false);\n\n\n    const onRequestReady = (data) => {\n        setRequestJson(data);\n        setDisablePlay(false);\n        setResponseJson(false);\n    }\n\n    useEffect(\n        () => {\n            fetchData(uql, '/console/uql2unomi/request', setLeftLoading, setLeftError, onRequestReady);\n        }, [uql]\n    );\n\n    const onJsonUpdate = (content) => {\n        if(content.error === false) {\n            let d = requestJson\n            d.data.body = content.jsObject\n            setRequestJson(d);\n            setJsonStatus(\"OK\");\n            setDisablePlay(false);\n        } else {\n            setDisablePlay(true);\n            setJsonStatus(\"ERROR \"+ content.error.reason + \" (line: \"+content.error.line+\")\");\n        }\n    }\n\n    const JsonTree = (obj, loading, error) => {\n        if (loading === true) {\n            return <CenteredCircularProgress/>\n        } else if (error !== false) {\n            return <pre>\n                {error}\n            </pre>\n        }\n        if(typeof obj.data !== \"undefined\")\n            return <ObjectInspector data={obj.data.body} theme={theme} expandLevel={3}/>\n    }\n\n    const JsonEditor = (obj, leftLoading) => {\n        if (leftLoading === true) {\n            return <CenteredCircularProgress/>\n        } else if (leftError !== false) {\n            return <pre>\n                {leftError}\n            </pre>\n        }\n        if(typeof obj.data !== \"undefined\") {\n            return <JSONInput\n                id          = 'a_unique_id'\n                placeholder = { obj.data.body }\n                locale      = { locale }\n                onChange    = {onJsonUpdate}\n                colors      = {{\n                    background: \"transparent\",\n                    default: \"black\",\n                    number: \"green\",\n                    keys: \"rgb(68, 68, 68)\",\n                    string: \"rgb(0, 105, 192)\",\n                    primitive: \"rgb(170, 0, 0)\",\n                    error: \"darkred\"\n                }}\n                style      = {{\n                    body: {fontSize: \"13px\", lineHeight: \"1.2\"},\n                    warningBox: {background: \"#ccc\"},\n                    errorMessage: {fontSize: \"15px\", color: \"black\", margin: \"-2px 0 0 0\"}\n                }}\n                width       = \"100%\"\n                height      = \"100%\"\n            />\n        }\n\n    }\n\n    const LeftInfo = (request, leftLoading) => {\n        if (leftLoading === false && typeof request !== \"undefined\" && request !== false) {\n            return <React.Fragment>\n                {request.data.method && <MethodTag method={request.data.method}/>}\n                {request.data.url && <span>URL: {request.data.url}</span>}\n                {request.data.expectedStatus && <span>EXPECT: <StatusCodeTag>{request.data.expectedStatus}</StatusCodeTag></span>}\n            </React.Fragment>\n        }\n    }\n\n    const RightInfo = (response, rightLoading) => {\n        if (rightLoading === false && typeof response !== \"undefined\" && response !== false) {\n            return <React.Fragment>\n                {response.data.status && <span>RESPONSE: <StatusCodeTag>{response.data.status}</StatusCodeTag></span>}\n            </React.Fragment>\n        }\n    }\n\n    const leftColumn = (request) => {\n        return <React.Fragment>\n            <div className=\"RequestInfo\">\n                {LeftInfo(request, leftLoading)}\n            </div>\n            <div className=\"RequestBody\">\n                {JsonEditor(request, leftLoading)}\n            </div>\n            <div className=\"RequestStatus\">\n                {jsonStatus}\n            </div>\n        </React.Fragment>\n\n    }\n\n    const rightColumn = (response) => {\n        return <React.Fragment>\n            <div className=\"ResponseInfo\">\n                {RightInfo(response, rightLoading)}\n            </div>\n            <div className=\"ResponseBody\">\n                {JsonTree(response, rightLoading, rightError)}\n            </div>\n            <div className=\"ResponseStatus\">\n                OK\n            </div>\n        </React.Fragment>\n    }\n\n    const Play = ({disable}) => {\n        let cls = 'RunQuery';\n\n        if(disable === true) {\n            cls = 'DisableQuery'\n        }\n\n        const onRun = () => {\n            if (requestJson !== false && disable === false) {\n                putData(requestJson.data, '/console/uql2unomi/response', setRightLoading, setRightError, setResponseJson)\n            }\n        }\n\n        return <div className={cls} onClick={onRun}>\n            <PlayArrow/>\n        </div>\n    }\n\n    return (\n        <div className=\"QueryResponseColumns\">\n            <div className=\"QueryResponseLeftColumn\">\n                {leftColumn(requestJson)}\n            </div>\n            <Play disable={disablePlay}/>\n            <div className=\"QueryResponseRightColumn\">\n                {rightColumn(responseJson)}\n            </div>\n        </div>\n\n    );\n}\nexport default QueryResponseColumns;\n// const mapProps = (state) => {\n//     return {\n//         uqlStatement: state.uqlReducer,\n//     }\n// }\n// export default connect(\n//     mapProps,\n//     {},\n// )(QueryResponseColumns)\n","import React from \"react\";\nimport QueryResponseColumns from \"../elements/QueryResponseColumns\";\nimport TopInfoBar from \"../TopInfoBar\";\nimport Breadcrumps from \"../elements/misc/Breadcrumps\";\nimport Input from \"../elements/forms/inputs/Input\";\n\nconst Console = () => {\n\n    const savedUql = localStorage.getItem(\"consoleUql\");\n    const [uql, setUql] = React.useState((typeof savedUql !== \"undefined\" ? savedUql : \"\"));\n\n    function onQuery(q) {\n        setUql(q);\n        localStorage.setItem(\"consoleUql\", q);\n    }\n\n    return <React.Fragment>\n\n        <TopInfoBar>\n            <Breadcrumps/>\n        </TopInfoBar>\n        <div style={{margin: \"7px 5px\"}}>\n            <Input variant=\"outlined\" label=\"UQL\" onEnterPressed={onQuery} initValue={uql}/>\n        </div>\n\n        <QueryResponseColumns uql={uql} />;\n\n    </React.Fragment>\n\n}\nexport default Console;\n\n","import React from 'react';\nimport marked from 'marked';\n\nexport default class MarkdownElement extends React.Component {\n    constructor(props) {\n        super(props);\n\n        marked.setOptions({\n            gfm: true,\n            tables: true,\n            breaks: false,\n            pedantic: false,\n            sanitize: true,\n            smartLists: true,\n            smartypants: false\n        });\n    }\n    render() {\n        const { text } = this.props,\n            html = marked(text || '');\n\n        return (<div>\n            <div dangerouslySetInnerHTML={{__html: html}} />\n        </div>);\n    }\n}","import React, {useEffect, useState} from \"react\";\nimport MarkdownElement from \"../../elements/misc/MarkdownElement\";\nimport \"./ManualPage.css\";\nimport TopInfoBar from \"../../TopInfoBar\";\nimport Breadcrumps from \"../../elements/misc/Breadcrumps\";\nimport MainContent from \"../../MainContent\";\n\nconst ManualPage = ({mdFile}) => {\n\n    const [page,setPage] = useState('');\n\n    async function loadMdFile(fileName) {\n        const file = await import(`../../../manual/${fileName}.md`);\n        const response = await fetch(file.default);\n        return await response.text();\n    }\n\n    useEffect(()=> {\n        loadMdFile(mdFile).then((text) => {\n            setPage( text )\n        })\n    })\n\n    return <React.Fragment>\n        <TopInfoBar>\n            <Breadcrumps/>\n        </TopInfoBar>\n        <div className=\"ManualPage\">\n            <MainContent style={{padding:10}}>\n                <MarkdownElement text={page} />\n            </MainContent>\n        </div>\n    </React.Fragment>\n\n\n}\n\nexport default ManualPage","import React from \"react\";\nimport PropTypes from 'prop-types';\n\nexport function SwitchCase({children, caseId}) {\n    return React.Children.map(children,\n        (child) => {\n            if (caseId === child.props.id) {\n                return child;\n            }\n            return \"\";\n        }\n    );\n}\n\nexport function Case({children}) {\n    return children;\n}\n\nSwitchCase.propTypes = {\n    caseId: PropTypes.string.isRequired,\n}\nCase.propTypes = {\n    id: PropTypes.string.isRequired,\n}","import React from \"react\";\nimport {Case, SwitchCase} from \"./SwitchCase\";\n\nexport default function EnterpriseVer({children, toggle}) {\n    if(typeof toggle === \"undefined\") {\n        toggle = \"1\";\n    }\n    return <SwitchCase caseId={process.env.REACT_APP_ENTERPRISE_VERSION}>\n        <Case id={toggle}>\n            {children}\n        </Case>\n    </SwitchCase>\n}","import React from \"react\";\nimport PropTypes from 'prop-types';\nimport {useLocation} from \"react-router-dom\";\n\nexport function RouteSwitch({children}) {\n\n    const location = useLocation();\n\n    return React.Children.map(children,\n        (child) => {\n            if (location.pathname.substring(0, child.props.link.length) === child.props.link) {\n                return child;\n            }\n            return \"\";\n        }\n    );\n}\n\nexport function RouteCase({children}) {\n    return children;\n}\n\nRouteCase.propTypes = {\n    link: PropTypes.string.isRequired,\n}","import React from \"react\";\nimport \"./AppBox.css\";\nimport MainMenu from \"./menu/MainMenu\";\nimport MainContent from \"./MainContent\";\nimport SubContent from \"./SubContent\";\nimport SubMenu from \"./menu/SubMenu\";\nimport {\n    BarChartRounded,SettingsOutlined, TuneOutlined\n} from \"@material-ui/icons\";\nimport SubMenuItem from \"./menu/SubMenuItem\";\nimport MainMenuItem from \"./menu/MainMenuItem\";\nimport {Route} from \"react-router-dom\";\nimport PrivateRoute from \"./authentication/PrivateRoute\";\nimport Sources from \"./pages/Sources\";\nimport Events from \"./pages/Events\";\nimport Rules from \"./pages/Rules\";\nimport Segments from \"./pages/Segments\";\nimport Profiles from \"./pages/Profiles\";\nimport Console from \"./pages/Console\";\nimport ManualPage from \"./pages/manual/ManualPage\";\nimport EnterpriseVer from \"./elements/misc/EnterpriseVer\";\nimport {RouteCase, RouteSwitch} from \"./elements/misc/RouteCase\";\n\nconst AppBox = () => {\n\n    return <MainContent>\n\n        <MainMenu>\n            <MainMenuItem icon={<BarChartRounded/>} title={\"Home\"} link=\"/app/home\" defaultLink=\"/app\"/>\n            <MainMenuItem icon={<TuneOutlined/>} title={\"Set-up\"} link=\"/app/setup\"/>\n            <MainMenuItem icon={<SettingsOutlined/>} title={\"Dev\"} link=\"/app/dev\"/>\n        </MainMenu>\n\n        <PrivateRoute exact path=\"/app\" roles={[\"unomi\"]}>\n            <SubMenu title=\"Home\">\n                <EnterpriseVer>\n                    <SubMenuItem link=\"/app/home/overview\">Home</SubMenuItem>\n                </EnterpriseVer>\n\n                <SubMenuItem link=\"/app/home/profiles\" defaultLink={[\"/app/home\", \"/app\"]}>Profiles</SubMenuItem>\n            </SubMenu>\n        </PrivateRoute>\n\n        <PrivateRoute path=\"/app/home\" roles={[\"unomi\"]}>\n            <SubMenu title=\"Home\">\n                <EnterpriseVer>\n                    <SubMenuItem link=\"/app/home/overview\">Home</SubMenuItem>\n                </EnterpriseVer>\n\n                <SubMenuItem link=\"/app/home/profiles\" defaultLink={[\"/app/home\"]}>Profiles</SubMenuItem>\n            </SubMenu>\n        </PrivateRoute>\n\n        <PrivateRoute path=\"/app/setup\" roles={[\"unomi\"]}>\n            <SubMenu title=\"Set-up\">\n                <SubMenuItem link=\"/app/setup/sources\">Sources</SubMenuItem>\n                <SubMenuItem link=\"/app/setup/events\" defaultLink={[\"/app/setup\"]}>Events</SubMenuItem>\n                <SubMenuItem link=\"/app/setup/rules\">Rules</SubMenuItem>\n                <SubMenuItem link=\"/app/setup/segments\">Segments</SubMenuItem>\n            </SubMenu>\n        </PrivateRoute>\n\n        <PrivateRoute path=\"/app/dev\" roles={[\"unomi\"]}>\n            <SubMenu title=\"Dev\">\n                <SubMenuItem link=\"/app/dev/console\" defaultLink={[\"/app/dev\"]}>Console</SubMenuItem>\n                <SubMenuItem link=\"/app/dev/manual/uql\">UQL Manual</SubMenuItem>\n                <RouteSwitch>\n                    <RouteCase link=\"/app/dev/manual/uql\">\n                        <SubMenuItem link=\"/app/dev/manual/uql/select\">&gt; Select UQL</SubMenuItem>\n                        <SubMenuItem link=\"/app/dev/manual/uql/create\">&gt; Create UQL</SubMenuItem>\n                        <SubMenuItem link=\"/app/dev/manual/uql/delete\">&gt; Delete UQL</SubMenuItem>\n                    </RouteCase>\n                </RouteSwitch>\n            </SubMenu>\n        </PrivateRoute>\n\n        <SubContent>\n            {/*<AppBar runQuery={query} title={title} showSearch={showSearch}/>*/}\n            <div className=\"contentPane\">\n                <div className=\"content\">\n\n                    <PrivateRoute path=\"/app/home/profiles\" roles={[\"unomi\"]}>\n                        <Profiles/>\n                    </PrivateRoute>\n\n                    <PrivateRoute exact path=\"/app/home\" roles={[\"unomi\"]}>\n                        <Profiles/>\n                    </PrivateRoute>\n\n                    <PrivateRoute exact path=\"/app\" roles={[\"unomi\"]}>\n                        <Profiles/>\n                    </PrivateRoute>\n\n                    <PrivateRoute path=\"/app/setup/sources\" roles={[\"unomi\"]}>\n                        <Sources/>\n                    </PrivateRoute>\n                    <PrivateRoute path=\"/app/setup/events\" roles={[\"unomi\"]}>\n                        <Events/>\n                    </PrivateRoute>\n                    <PrivateRoute path=\"/app/setup/rules\" roles={[\"unomi\"]}>\n                        <Rules/>\n                    </PrivateRoute>\n                    <PrivateRoute path=\"/app/setup/segments\" roles={[\"unomi\"]}>\n                        <Segments/>\n                    </PrivateRoute>\n                    <PrivateRoute exact path=\"/app/setup\" roles={[\"unomi\"]}>\n                        <Events/>\n                    </PrivateRoute>\n\n                    <PrivateRoute path=\"/app/dev/console\" roles={[\"unomi\"]}>\n                        <Console/>\n                    </PrivateRoute>\n                    <PrivateRoute exact path=\"/app/dev\" roles={[\"unomi\"]}>\n                        <Console/>\n                    </PrivateRoute>\n\n                    <Route exact path=\"/app/dev/manual/uql/select\">\n                        <ManualPage mdFile=\"uql/select\"/>\n                    </Route>\n                    <Route exact path=\"/app/dev/manual/uql/create\">\n                        <ManualPage mdFile=\"uql/create\"/>\n                    </Route>\n                    <Route exact path=\"/app/dev/manual/uql/delete\">\n                        <ManualPage mdFile=\"uql/delete\"/>\n                    </Route>\n                    <Route exact path=\"/app/dev/manual/uql\">\n                        <ManualPage mdFile=\"start\"/>\n                    </Route>\n                </div>\n            </div>\n        </SubContent>\n    </MainContent>\n}\n\nexport default AppBox;","import React from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {logout} from \"./login\";\n\nexport default function Logout() {\n    logout();\n    return <Redirect to=\"/app/login\"/>\n}","import {api} from \"./entrypoint\";\n\nfunction JsonToURLEncoded(element, key, list) {\n    list = list || [];\n    if (typeof (element) == 'object') {\n        for (let idx in element)\n            JsonToURLEncoded(element[idx], key ? key + '[' + idx + ']' : idx, list);\n    } else {\n        list.push(key + '=' + encodeURIComponent(element));\n    }\n    return list.join('&');\n}\n\nexport const loginUser = (username, password) => {\n\n    const path = \"/token\";\n    const params = {\n        username: username,\n        password: password\n    };\n\n    return api({\"Content-Type\": \"application/x-www-form-urlencoded\"})\n        .post(path, JsonToURLEncoded(params));\n\n};","import {red} from '@material-ui/core/colors';\nimport {createMuiTheme} from '@material-ui/core/styles';\n\nexport const mainTheme = createMuiTheme({\n    // typography: {\n    //     fontFamily: [\n    //         'Lato',\n    //     ].join(','),\n    // },\n    palette: {\n        primary: {\n            main: '#19857b',\n        },\n        secondary: {\n            main: '#EF6C00',\n        },\n        error: {\n            main: red.A400,\n        },\n        background: {\n            default: '#ccc',\n        },\n        text: {\n            primary: '#000'\n        }\n    },\n});\n\nexport const signInTheme = createMuiTheme({\n    palette: {\n        primary: {\n            // light: will be calculated from palette.primary.main,\n            main: '#19857b',\n            // dark: will be calculated from palette.primary.main,\n            // contrastText: will be calculated to contrast with palette.primary.main\n        },\n        secondary: {\n            light: '#cF5C00',\n            main: '#EF6C00',\n            // dark: will be calculated from palette.secondary.main,\n            contrastText: '#ffcc00',\n        },\n        background: {\n            default: '#fff',\n        },\n        text: {\n            primary: '#000'\n        }\n    },\n});\n\nexport const plusPopOverTheme = createMuiTheme({\n    palette: {\n        primary: {\n            // light: will be calculated from palette.primary.main,\n            main: '#fff',\n            // dark: will be calculated from palette.primary.main,\n            // contrastText: will be calculated to contrast with palette.primary.main\n        },\n        secondary: {\n            light: '#fff',\n            main: '#fff',\n            // dark: will be calculated from palette.secondary.main,\n            contrastText: '#ffcc00',\n        },\n        background: {\n            default: '#2196f3',\n            paper: 'inherit'\n        },\n        text: {\n            primary: '#fff',\n            secondary: \"#bbb\",\n            disabled: \"#999\"\n        },\n    },\n});\n","import React, {useState} from 'react';\nimport {Redirect, useLocation} from \"react-router-dom\";\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport {makeStyles, ThemeProvider} from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport {setRoles, setToken} from \"./login\";\nimport {loginUser} from \"../../remote_api/user\";\nimport {signInTheme} from \"../../themes\";\nimport {showAlert} from \"../../redux/reducers/alertSlice\";\nimport {connect} from \"react-redux\";\n\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright  '}\n            <Link color=\"inherit\" href=\"http://tracardi.com/\">\n                TRACARDI\n            </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        padding: \"10px 20px\",\n        backgroundColor: 'white',\n        borderRadius: \"5px\",\n        color: \"black\"\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n\n    },\n    input: {\n        color: \"black\",\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    }\n}));\n\nconst SignInForm = ({showAlert}) => {\n\n    const classes = useStyles();\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [rememberMe, setRememberMe] = useState(false);\n\n    const {state} = useLocation();\n    const {from} = state || {from: {pathname: \"/app/home\"}};\n    const [redirectToReferrer, setRedirectToReferrer] = useState(false);\n\n    const handleEmailChange = (evt) => {\n        setEmail(evt.target.value);\n    }\n\n    const handlePassChange = (evt) => {\n        setPassword(evt.target.value);\n    }\n    const handleRemMe = (evt) => {\n        setRememberMe(evt.target.checked);\n    }\n\n    const onSubmit = event => {\n        const api = loginUser(email, password);\n        api\n            .then(response => {\n                setToken(response.data['access_token']);\n                setRoles(response.data['roles'])\n                setRedirectToReferrer(true);\n            })\n            .catch(e => {\n                let message = e.message;\n                if(typeof e.response == \"undefined\") {\n                    message = 'Api unavailable.';\n                } else if(e.response.status === 422) {\n                    message = 'Bag request. Fill all fields.';\n                } else if(typeof e.response.data['detail'] == \"string\") {\n                    message = e.response.data['detail']\n                }\n                showAlert({type: \"error\", message: message})\n            })\n\n        event.preventDefault();\n    };\n\n    if (redirectToReferrer) {\n        return <Redirect to={from}/>;\n    }\n\n    return (\n        <ThemeProvider theme={signInTheme}>\n            <Container component=\"main\" maxWidth=\"xs\">\n                <div className={classes.paper}>\n                    <Avatar className={classes.avatar}>\n                        <LockOutlinedIcon/>\n                    </Avatar>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        Sign in\n                    </Typography>\n                    <form onSubmitCapture={onSubmit} className={classes.form} noValidate>\n                        <TextField\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            id=\"email\"\n                            label=\"Email Address\"\n                            name=\"email\"\n                            autoComplete=\"email\"\n                            autoFocus\n                            onChange={handleEmailChange}/>\n                        <TextField\n                            style={{color: \"black\"}}\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            name=\"password\"\n                            label=\"Password\"\n                            type=\"password\"\n                            id=\"password\"\n                            autoComplete=\"current-password\"\n                            onChange={handlePassChange}\n                        />\n                        <FormControlLabel\n                            control={<Checkbox value=\"remember\" color=\"primary\" onChange={handleRemMe}\n                                               checked={rememberMe}/>}\n                            label=\"Remember me\"\n                        />\n                        <Button\n                            type=\"submit\"\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            className={classes.submit}\n\n                        >\n                            Sign In\n                        </Button>\n                        <Grid container>\n                            <Grid item xs>\n                                <Link href=\"#\" variant=\"body2\">\n                                    Forgot password?\n                                </Link>\n                            </Grid>\n                            <Grid item>\n                            </Grid>\n                        </Grid>\n                    </form>\n                    <Box mt={8}>\n                        <Copyright/>\n                    </Box>\n                </div>\n            </Container>\n        </ThemeProvider>\n    );\n}\n\nexport default connect(\n    null,\n    {showAlert}\n)(SignInForm)","import React from \"react\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport {connect} from \"react-redux\";\nimport {closeRightPaper} from \"../../redux/reducers/rightPaperSlice\";\n\nfunction RightPaper({open, closeRightPaper, data, children}) {\n\n    const content = () => {\n        if(data.anchor==\"right\" || data.anchor==\"left\") {\n            return <div style={{width: data.width}}>\n                {children}\n            </div>;\n        } else{\n            return <div style={{height: data.width}}>\n                {children}\n            </div>;\n        }\n    }\n\n    const onClose = () => {\n        closeRightPaper();\n    }\n\n    return <Drawer anchor={data.anchor} open={open} onClose={onClose}>\n        {content()}\n    </Drawer>\n}\n\nconst mapProps = (state) => {\n    return {\n        data: state.rightPaperReducer\n    }\n}\n\nexport default connect(\n    mapProps,\n    {closeRightPaper}\n)(RightPaper)","import React from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport {makeStyles} from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport StepContent from '@material-ui/core/StepContent';\nimport Button from '@material-ui/core/Button';\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport {FormControl} from \"@material-ui/core\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport {createRule} from \"../../../remote_api/uql_api_endpoint\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport AlertTitle from \"@material-ui/lab/AlertTitle\";\nimport \"./CreateRuleForm.css\";\nimport \"./Forms.css\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%'\n    },\n    button: {\n        marginTop: theme.spacing(1),\n        marginRight: theme.spacing(1),\n    },\n    actionsContainer: {\n        marginBottom: theme.spacing(2),\n    },\n    resetContainer: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n        paddingBottom: theme.spacing(3),\n    },\n    formControl: {\n        margin: theme.spacing(1),\n    },\n}));\n\nfunction getSteps() {\n    return ['Select scope and rule name', 'Type rule description', 'Create condition', 'Create action', 'Submit rule'];\n}\n\nfunction KeyValueFragment({name, value}) {\n    return <div style={{paddingLeft: \"5px\"}}>\n        <div style={{fontWeight: 400, minWidth: 100, display: \"inline-block\", padding: 5}}>{name}:</div>\n        <span style={{\n            padding: 5,\n            borderBottom: \"solid 1px #ccc\",\n            display: \"inline-block\",\n            minWidth: 450,\n        }}>{value}</span>\n    </div>\n}\n\nfunction RuleConditionFragment({conditionValue, handleConditionChange}) {\n\n    return <React.Fragment>\n        <div  className=\"description\">\n            Condition is SQL like condition that describes when the rule should be triggered.\n            Please refer to documentation to see the syntax of conditions.\n        </div>\n        <TextField\n            id=\"rule-condition\"\n            label=\"Rule condition\"\n            multiline\n            size=\"small\"\n            variant=\"outlined\"\n            value={conditionValue}\n            onChange={handleConditionChange}\n        />\n        <FormHelperText>Example: (scope=\"my-site1\" OR scope=\"my-site2\") AND event:type=\"view\"</FormHelperText>\n    </React.Fragment>\n}\n\nfunction RuleDescFragment({descValue, handleDescChange}) {\n    return <React.Fragment>\n        <div  className=\"description\">\n            Rule description can be any string that describes rule's purpose. It corresponds with the action that will\n            fire when\n            condition is met.\n        </div>\n        <TextField id=\"rule-desc\"\n                   label=\"Rule description\"\n                   variant=\"outlined\"\n                   size=\"small\"\n                   value={descValue}\n                   onChange={handleDescChange}/>\n        <FormHelperText>Example: Add points to loyalty card with every purchase</FormHelperText>\n    </React.Fragment>\n}\n\nfunction RuleNameFragment({nameValue, handleNameChange, scope, handleScopeChange}) {\n    const classes = useStyles();\n    return <React.Fragment>\n        <div className=\"description\">\n            Set scope and rule name. Scope is an id of your site and rule name can be any string that identifies rule.\n            Rule id is made out of rule name by replacing spaces with hyphens and lowering the string.\n        </div>\n        <div style={{display: \"flex\"}}>\n            <div style={{marginRight: 10}}>\n                <TextField\n                    required\n                    label=\"Scope\"\n                    value={scope}\n                    onChange={handleScopeChange}\n                    variant=\"outlined\"\n                    size=\"small\"\n                />\n                <FormHelperText>Scope</FormHelperText>\n            </div>\n            <div>\n                <TextField required\n                           label=\"Rule name\"\n                           variant=\"outlined\"\n                           size=\"small\"\n                           value={nameValue}\n                           onChange={handleNameChange}/>\n                <FormHelperText>Example: points with every purchase</FormHelperText>\n            </div>\n\n        </div>\n    </React.Fragment>\n}\n\nfunction RuleActionFragment({actionValue, handleActionChange}) {\n    return <React.Fragment>\n        <div className=\"description\">\n            Rule actions is a set of predefined actions that will fire when the condition is fulfilled.\n        </div>\n        <TextField\n            id=\"rule-action\"\n            label=\"Rule action\"\n            multiline\n            variant=\"outlined\"\n            size=\"small\"\n            value={actionValue}\n            onChange={handleActionChange}\n        />\n        <FormHelperText>Example: IncreaseLoyalityCardPoints(100), CopyEventsToProfileProperties()</FormHelperText>\n    </React.Fragment>\n}\n\nfunction SubmitRule({scope, name, desc, condition, action, handleReset}) {\n    const classes = useStyles();\n\n    const [resetDisabled, setResetDisabled] = React.useState(false);\n    const [submitDisabled, setSubmitDisabled] = React.useState(false);\n    const handleResetDisabled = (toggle) => {\n        setResetDisabled(toggle);\n    };\n    const handleSubmitDisabled = (toggle) => {\n        setSubmitDisabled(toggle);\n    };\n\n    const [submitResult, setSubmitResult] = React.useState('');\n    const [submitResultType, setSubmitTypeResult] = React.useState('');\n    const handleSubmitResult = (message) => {\n        setSubmitResult(message);\n    };\n    const handleSubmitTypeResult = (type) => {\n        setSubmitTypeResult(type);\n    };\n\n    const handleSubmitClick = () => {\n        let params = {\n            \"scope\": scope,\n            \"name\": name,\n            \"desc\": desc,\n            \"condition\": condition,\n            \"action\": action\n        }\n\n        const ok = (response) => {\n            console.log(response)\n            handleSubmitTypeResult(\"success\");\n            handleSubmitResult(\"Rule created.\");\n            handleSubmitDisabled(false)\n        }\n\n        const failed = (e) => {\n            handleSubmitDisabled(false)\n            handleSubmitTypeResult(\"error\");\n            if (typeof (e.response) != \"undefined\") {\n                handleSubmitResult(e.response.data.detail);\n            } else {\n                handleSubmitResult(e.toString());\n            }\n        }\n\n        const loading = () => {\n            handleSubmitDisabled(true)\n            handleSubmitTypeResult(\"loading\");\n            handleSubmitResult(\"Loading\");\n        }\n\n        createRule(params, loading, ok, failed);\n    }\n\n    const handleResetClick = () => {\n        handleReset();\n        handleSubmitDisabled(false)\n    };\n\n    const submitStatus = (message, type) => {\n        if (message !== \"\") {\n            return <Alert severity={type} style={{marginTop: 20}}>\n                <AlertTitle>{type.toUpperCase()}</AlertTitle>\n                <pre style={{width: \"515px\", overflow: \"auto\"}}>{message}</pre>\n            </Alert>\n        }\n    }\n\n    return <React.Fragment>\n        <div>All steps completed - here is your rule summary</div>\n        <div style={{marginTop: 20}}>\n            <KeyValueFragment name={\"Scope\"} value={scope}/>\n            <KeyValueFragment name={\"Name\"} value={name}/>\n            <KeyValueFragment name={\"Description\"} value={desc}/>\n            <KeyValueFragment name={\"Condition\"} value={condition}/>\n            <KeyValueFragment name={\"Actions\"} value={action}/>\n        </div>\n        {submitStatus(submitResult, submitResultType)}\n        <div style={{marginTop: 10}}>\n            <Button onClick={handleSubmitClick} className={classes.button} variant=\"contained\"\n                    color=\"primary\" disabled={submitDisabled}>\n                Submit\n            </Button>\n            <Button onClick={handleResetClick} className={classes.button} disabled={resetDisabled}>\n                Back\n            </Button>\n        </div>\n\n    </React.Fragment>\n}\n\n\nexport default function CreateRuleForm() {\n    const classes = useStyles();\n    const [activeStep, setActiveStep] = React.useState(0);\n\n\n    const [scope, setScope] = React.useState('');\n    const handleScopeChange = (event) => {\n        setScope(event.target.value);\n    };\n\n    const [conditionValue, setConditionValue] = React.useState('');\n    const handleConditionChange = (event) => {\n        setConditionValue(event.target.value);\n    };\n\n    const [actionValue, setActionValue] = React.useState('');\n    const handleActionChange = (event) => {\n        setActionValue(event.target.value);\n    };\n\n    const [nameValue, setNameValue] = React.useState('');\n    const handleNameChange = (event) => {\n        setNameValue(event.target.value);\n    };\n\n    const [descValue, setDescValue] = React.useState('');\n    const handleDescChange = (event) => {\n        setDescValue(event.target.value);\n    };\n\n    const steps = getSteps();\n\n    const handleNext = () => {\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\n    };\n\n    const handleBack = () => {\n        setActiveStep((prevActiveStep) => prevActiveStep - 1);\n    };\n\n    const handleReset = () => {\n        handleBack()\n    }\n\n    const getStepContent = (step) => {\n\n        switch (step) {\n            case 0:\n                return <RuleNameFragment\n                    nameValue={nameValue} handleNameChange={handleNameChange}\n                    scope={scope} handleScopeChange={handleScopeChange}/>\n            case 1:\n                return <RuleDescFragment descValue={descValue} handleDescChange={handleDescChange}/>\n            case 2:\n                return <RuleConditionFragment conditionValue={conditionValue}\n                                              handleConditionChange={handleConditionChange}/>\n            case 3:\n                return <RuleActionFragment actionValue={actionValue} handleActionChange={handleActionChange}/>\n            case 4:\n                return <SubmitRule scope={scope}\n                                   name={nameValue}\n                                   desc={descValue}\n                                   condition={conditionValue}\n                                   action={actionValue}\n                                   handleReset={handleReset}/>\n            default:\n                return 'Unknown step';\n        }\n    }\n    const buttons = () => {\n        if (activeStep < steps.length - 1)\n            return <React.Fragment>\n                {activeStep !== 0 &&\n                <Button disabled={activeStep === 0} onClick={handleBack} className={classes.button}>\n                    Back\n                </Button>\n                }\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={handleNext}\n                    className={classes.button}>\n                    Next\n                </Button>\n            </React.Fragment>\n    }\n    return (\n        <div className={classes.root}>\n            <Stepper activeStep={activeStep} orientation=\"vertical\">\n                {steps.map((label, index) => (\n                    <Step key={label} onClickCapture={() => {\n                        setActiveStep(index)\n                    }}>\n                        <StepLabel>{label}</StepLabel>\n                        <StepContent>\n                            <FormControl className={classes.formControl}>{getStepContent(index)}</FormControl>\n                            <div className={classes.actionsContainer}>\n                                <div>\n                                    {buttons()}\n                                </div>\n                            </div>\n                        </StepContent>\n                    </Step>\n                ))}\n            </Stepper>\n        </div>\n    );\n}\n","import React from \"react\";\n\nexport default function KeyValueFragment({name, value}) {\n    return <div style={{paddingLeft: \"5px\"}}>\n        <div style={{fontWeight: 400, minWidth: 100, display: \"inline-block\", padding: 5}}>{name}:</div>\n        <span style={{\n            padding: 5,\n            borderBottom: \"solid 1px #ccc\",\n            display: \"inline-block\",\n            minWidth: 450,\n        }}>{value}</span>\n    </div>\n}","import React from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {makeStyles} from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport StepContent from '@material-ui/core/StepContent';\nimport Button from '@material-ui/core/Button';\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport {FormControl} from \"@material-ui/core\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport {createSegment} from \"../../../remote_api/uql_api_endpoint\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport AlertTitle from \"@material-ui/lab/AlertTitle\";\nimport \"./CreateRuleForm.css\"\nimport KeyValueFragment from \"../misc/KeyValueFragment\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%'\n    },\n    button: {\n        marginTop: theme.spacing(1),\n        marginRight: theme.spacing(1),\n    },\n    actionsContainer: {\n        marginBottom: theme.spacing(2),\n    },\n    resetContainer: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n        paddingBottom: theme.spacing(3),\n    },\n    formControl: {\n        margin: theme.spacing(1),\n    }\n}));\n\nfunction getSteps() {\n    return ['Select scope and segment name', 'Type segemnt description', 'Create condition', 'Submit segment'];\n}\n\nfunction SegmentConditionFragment({conditionValue, handleConditionChange}) {\n\n    return <React.Fragment>\n        <div className=\"description\">\n            <b>Condition</b> is SQL like condition that describes when the segment should be triggered.\n            Please refer to documentation to see the syntax of conditions. Segment condition is <b>required field</b>.\n        </div>\n        <TextField\n            required\n            variant=\"outlined\"\n            size=\"small\"\n            label=\"Segment condition\"\n            multiline\n            value={conditionValue}\n            onChange={handleConditionChange}\n        />\n        <FormHelperText>Example: properties.visits>10</FormHelperText>\n    </React.Fragment>\n}\n\nfunction SegmentDescFragment({descValue, handleDescChange}) {\n    return <React.Fragment>\n        <div className=\"description\">\n            <b>Segment description</b> can be any string that describes the meaning of segment.\n            For example the segment can be a group of frequent customers. Segment description is <b>required field</b>.\n        </div>\n        <TextField variant=\"outlined\"\n                   size=\"small\"\n                   label=\"Segemnt description\"\n                   value={descValue}\n                   onChange={handleDescChange}/>\n        <FormHelperText>Example: Frequent customers who made purchase at least 3 time a month.</FormHelperText>\n    </React.Fragment>\n}\n\nfunction SegmentNameFragment({nameValue, handleNameChange, scope, handleScopeChange}) {\n    return <React.Fragment>\n        <div className=\"description\">\n            Set <b>scope and segment name</b>. <b>Scope</b> is an id of your site and <b>segment</b> name can be any\n            string that identifies segment. Segment name is <b>required field</b>.\n            Segemnt id is made out of segment name by replacing spaces with hyphens and lowering the string.\n        </div>\n        <div style={{display: \"flex\"}}>\n            <div style={{marginRight: 10}}>\n                <TextField\n                    required\n                    label=\"Scope\"\n                    value={scope}\n                    onChange={handleScopeChange}\n                    variant=\"outlined\"\n                    size=\"small\"\n                />\n                <FormHelperText>Example: site-1</FormHelperText>\n            </div>\n            <div><TextField required variant=\"outlined\"\n                            size=\"small\"\n                            label=\"Segment name\"\n                            value={nameValue}\n                            onChange={handleNameChange}/>\n                <FormHelperText>Example: Frequent customers</FormHelperText>\n            </div>\n        </div>\n    </React.Fragment>\n}\n\nfunction SubmitSegment({scope, name, desc, condition, handleReset}) {\n    const classes = useStyles();\n\n    const [resetDisabled, setResetDisabled] = React.useState(false);\n    const [submitDisabled, setSubmitDisabled] = React.useState(false);\n    const handleResetDisabled = (toggle) => {\n        setResetDisabled(toggle);\n    };\n    const handleSubmitDisabled = (toggle) => {\n        setSubmitDisabled(toggle);\n    };\n\n    const [submitResult, setSubmitResult] = React.useState('');\n    const [submitResultType, setSubmitTypeResult] = React.useState('');\n    const handleSubmitResult = (message) => {\n        setSubmitResult(message);\n    };\n    const handleSubmitTypeResult = (type) => {\n        setSubmitTypeResult(type);\n    };\n\n    const handleSubmitClick = () => {\n        let params = {\n            \"scope\": scope,\n            \"name\": name,\n            \"desc\": desc,\n            \"condition\": condition,\n        }\n\n        const ok = (response) => {\n            handleSubmitTypeResult(\"success\");\n            handleSubmitResult(\"Segment created.\");\n            handleSubmitDisabled(false)\n        }\n\n        const failed = (e) => {\n            handleSubmitDisabled(false)\n            handleSubmitTypeResult(\"error\");\n            if (typeof (e.response) != \"undefined\") {\n                handleSubmitResult(e.response.data.detail);\n            } else {\n                handleSubmitResult(e.toString());\n            }\n        }\n\n        const loading = () => {\n            handleSubmitDisabled(true)\n            handleSubmitTypeResult(\"loading\");\n            handleSubmitResult(\"Loading\");\n        }\n\n        createSegment(params, loading, ok, failed);\n    }\n\n    const handleResetClick = () => {\n        handleReset();\n        handleSubmitDisabled(false)\n    };\n\n    const submitStatus = (message, type) => {\n        if (message !== \"\") {\n            return <Alert severity={type} style={{marginTop: 20}}>\n                <AlertTitle>{type.toUpperCase()}</AlertTitle>\n                <pre style={{width: \"515px\", overflow: \"auto\"}}>{message}</pre>\n            </Alert>\n        }\n    }\n\n    return <React.Fragment>\n        <Typography>All steps completed - here is your segment summary</Typography>\n        <div style={{marginTop: 20}}>\n            <KeyValueFragment name={\"Scope\"} value={scope}/>\n            <KeyValueFragment name={\"Name\"} value={name}/>\n            <KeyValueFragment name={\"Description\"} value={desc}/>\n            <KeyValueFragment name={\"Condition\"} value={condition}/>\n        </div>\n        {submitStatus(submitResult, submitResultType)}\n        <div style={{marginTop: 10}}>\n            <Button onClick={handleSubmitClick} className={classes.button} variant=\"contained\"\n                    color=\"primary\" disabled={submitDisabled}>\n                Submit\n            </Button>\n            <Button onClick={handleResetClick} className={classes.button} disabled={resetDisabled}>\n                Back\n            </Button>\n        </div>\n\n    </React.Fragment>\n}\n\n\nexport default function CreateSegmentForm() {\n    const classes = useStyles();\n    const [activeStep, setActiveStep] = React.useState(0);\n\n\n    const [scope, setScope] = React.useState('');\n    const handleScopeChange = (event) => {\n        setScope(event.target.value);\n    };\n\n    const [conditionValue, setConditionValue] = React.useState('');\n    const handleConditionChange = (event) => {\n        setConditionValue(event.target.value);\n    };\n\n    const [nameValue, setNameValue] = React.useState('');\n    const handleNameChange = (event) => {\n        setNameValue(event.target.value);\n    };\n\n    const [descValue, setDescValue] = React.useState('');\n    const handleDescChange = (event) => {\n        setDescValue(event.target.value);\n    };\n\n    const steps = getSteps();\n\n    const handleNext = () => {\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\n    };\n\n    const handleBack = () => {\n        setActiveStep((prevActiveStep) => prevActiveStep - 1);\n    };\n\n    const handleReset = () => {\n        handleBack()\n    }\n\n    const getStepContent = (step) => {\n\n        switch (step) {\n            case 0:\n                return <SegmentNameFragment\n                    nameValue={nameValue} handleNameChange={handleNameChange}\n                    scope={scope} handleScopeChange={handleScopeChange}/>\n            case 1:\n                return <SegmentDescFragment descValue={descValue} handleDescChange={handleDescChange}/>\n            case 2:\n                return <SegmentConditionFragment conditionValue={conditionValue}\n                                                 handleConditionChange={handleConditionChange}/>\n            case 3:\n                return <SubmitSegment scope={scope}\n                                      name={nameValue}\n                                      desc={descValue}\n                                      condition={conditionValue}\n                                      handleReset={handleReset}/>\n            default:\n                return 'Unknown step';\n        }\n    }\n    const buttons = () => {\n        if (activeStep < steps.length - 1)\n            return <React.Fragment>\n                {activeStep !== 0 && <Button\n                    disabled={activeStep === 0}\n                    onClick={handleBack}\n                    className={classes.button}\n                >\n                    Back\n                </Button>}\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={handleNext}\n                    className={classes.button}>\n                    Next\n                </Button>\n            </React.Fragment>\n    }\n    return (\n        <div className={classes.root}>\n            <Stepper activeStep={activeStep} orientation=\"vertical\">\n                {steps.map((label, index) => (\n                    <Step key={label} onClickCapture={() => {\n                        setActiveStep(index)\n                    }}>\n                        <StepLabel>{label}</StepLabel>\n                        <StepContent>\n                            <FormControl className={classes.formControl}>{getStepContent(index)}</FormControl>\n                            <div className={classes.actionsContainer}>\n                                <div>\n                                    {buttons()}\n                                </div>\n                            </div>\n                        </StepContent>\n                    </Step>\n                ))}\n            </Stepper>\n        </div>\n    );\n}\n","import React, {useState} from \"react\";\nimport {FormControl, Typography} from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport {api} from \"../../../remote_api/entrypoint\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport StepContent from \"@material-ui/core/StepContent\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport \"./Forms.css\";\nimport \"./CreateSourceForm.css\";\nimport TextField from \"@material-ui/core/TextField\";\n\nexport default function CreateSourceForm() {\n\n    const [showTrackerCode, setShowTrackerCode] = useState(false);\n    const [scope, setScope] = useState('');\n    const [name, setName] = useState('');\n    const [trackerApiUrl, setTrackerApiUrl] = useState('http://localhost:8181');\n\n    const onNameChange = (ev) => {\n        setName( ev.target.value);\n    }\n\n    const onScopeChange = (ev) => {\n        setScope( ev.target.value);\n    }\n\n    const onTrackerApiChange = (ev) => {\n        setTrackerApiUrl( ev.target.value);\n    }\n\n    const handleSubmitClick = () => {\n        api({\"Content-type\": \"application/json\"})\n            .post('source', {\"name\": scope, \"hostname\": trackerApiUrl, \"scope\": scope})\n            .then(response => {\n                setShowTrackerCode(true);\n                handleNext();\n            })\n            .catch((e) => {\n                setShowTrackerCode(false);\n            });\n    }\n\n    const TrackerCode = () => {\n        if(showTrackerCode) {\n            return <React.Fragment>\n                <Typography variant=\"h6\">Scope created</Typography>\n                <div className=\"ScopeDesc\" style={{marginTop:20}}>Please find tracker javascript code in your scope tracker tab and paste it in your head tag of your web page. </div>\n\n            </React.Fragment>\n        }\n        return \"\";\n    }\n\n    function getSteps() {\n        return ['Type scope', 'Type context server api host', 'Tracker code'];\n    }\n\n    const [activeStep, setActiveStep] = React.useState(0);\n    const steps = getSteps();\n    const handleNext = () => {\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\n    };\n\n    const handleBack = () => {\n        setActiveStep((prevActiveStep) => prevActiveStep - 1);\n    };\n    const buttons = () => {\n        if(activeStep < steps.length - 2)\n            return <React.Fragment>\n                {activeStep !== 0 && <Button\n                    disabled={activeStep === 0}\n                    onClick={handleBack}\n                    className=\"Button\"\n                >\n                    Back\n                </Button>}\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={handleNext}\n                    className=\"Button\">\n                    Next\n                </Button>\n            </React.Fragment>\n    }\n\n    const getStepContent = (step) => {\n\n        switch (step) {\n            case 0:\n                return <React.Fragment>\n                    <div className=\"ScopeDesc\">\n                        Type source scope and name. Scope is usually a namespace for all your events and it is\n                        associated with your file or business activity.\n                    </div>\n                    <div style={{marginBottom: 20}}>\n                        <TextField\n                            variant=\"outlined\"\n                            size=\"small\"\n                            onChange={onScopeChange}\n                            value={scope}\n                            label=\"Scope\"\n                            style={{marginRight: 5}}/>\n                        <TextField\n                            variant=\"outlined\"\n                            size=\"small\"\n                            onChange={onNameChange}\n                            value={name}\n                            label=\"Name\"/>\n                    </div>\n                </React.Fragment>\n            case 1:\n                return <React.Fragment>\n                    <div className=\"ScopeDesc\">\n                        Tracker API URL is a host name and port where the context server api is located. Usually it is http://localhost:8181 or\n                        for dockerized platforms http://context-server:8181.\n                    </div>\n                    <div style={{marginBottom: 20, width:\"80%\"}}>\n                        <TextField\n                            variant=\"outlined\"\n                            size=\"small\"\n                            onChange={onTrackerApiChange}\n                            label=\"Tracker API\"\n                            value={trackerApiUrl}\n                        />\n                    </div>\n\n                    <Button onClick={handleSubmitClick}\n                            variant=\"contained\"\n                            color=\"primary\">\n                        Submit\n                    </Button>\n\n                </React.Fragment>\n            case 2:\n                return <TrackerCode/>\n\n            default:\n                return 'Unknown step';\n        }\n    }\n\n    return <Stepper activeStep={activeStep} orientation=\"vertical\">\n        {steps.map((label, index) => (\n            <Step key={label} onClickCapture={()=>{setActiveStep(index)}}>\n                <StepLabel>{label}</StepLabel>\n                <StepContent>\n                    <FormControl>{getStepContent(index)}</FormControl>\n                    <div>\n                        <div>\n                            {buttons()}\n                        </div>\n                    </div>\n                </StepContent>\n            </Step>\n        ))}\n    </Stepper>\n\n}","import React from \"react\";\nimport \"./SocialButton.css\";\n\nexport default function SocialButton({icon, title, link, onClick}) {\n    return <a className=\"SocialButton\" href={link} onClick={onClick}>\n        <span className=\"Icon\">{icon}</span>\n        <span className=\"Label\">{title}</span>\n    </a>\n}","import React from \"react\";\nimport \"./SocialSplash.css\";\nimport {Facebook, PlayCircleOutline, Twitter, YouTube} from \"@material-ui/icons\";\nimport SocialButton from \"./SocialButton\";\n\nexport default function SocialSplash({onClick}) {\n\n    return <div className=\"SocialSplashRoot\">\n        <div className=\"SocialSplash\">\n            <div className=\"Image\"><img src={process.env.PUBLIC_URL + \"/splash.svg\"} /></div>\n            <div className=\"Content\">\n                <div className=\"Title\">Welcome to <span className=\"Brand\">Tracardi</span></div>\n                <div className=\"Tag\">Graphic User Interface for Apache Unomi</div>\n                <div className=\"Message\">\n                    <p>We are still early, but we release this version so you can share your experience with us. </p>\n                    <p>If you would like to support us please follow us on <SocialButton icon={<Facebook/>} title=\"Facebook\" link=\"https://www.facebook.com/TRACARDI/\"/> or <SocialButton icon={<Twitter/>} title=\"Twitter\" link=\"https://twitter.com/tracardi\"/>\n                        and leave your comments. Subscribe to our <SocialButton icon={<YouTube/>} title=\"Youtube\" link=\"https://www.youtube.com/channel/UC0atjYqW43MdqNiSJBvN__Q\"/> channel\n                        to see development process and new upcoming features.</p>\n                </div>\n                <div className=\"Continue\">\n                    <SocialButton icon={<PlayCircleOutline/>} title=\"Continue\" onClick={onClick}/>\n                </div>\n            </div>\n\n        </div>\n    </div>\n\n\n}","import React from \"react\";\nimport \"./RightPaperHeader.css\";\nimport {HighlightOff} from \"@material-ui/icons\";\nimport {connect} from \"react-redux\";\nimport {closeRightPaper} from \"../../redux/reducers/rightPaperSlice\";\n\nfunction RightPaperHeader({children, closeRightPaper}) {\n    return <div className=\"RightPaperHeader\">\n        <span className=\"Label\">{children}</span>\n        <HighlightOff onClick={()=>closeRightPaper()} style={{cursor: \"pointer\"}}/>\n    </div>\n};\n\nconst mapProps = (state) => {\n    return {\n        data: state.rightPaperReducer\n    }\n}\n\nexport default connect(\n    mapProps,\n    {closeRightPaper}\n)(RightPaperHeader)","import React, {useState} from \"react\";\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route\n} from \"react-router-dom\";\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport AppBox from \"./AppBox\";\nimport {connect, useDispatch} from \"react-redux\";\nimport {hideAlert} from \"../redux/reducers/alertSlice\";\nimport Logout from \"./authentication/Logout\";\nimport SignIn from \"./authentication/SignIn\";\nimport RightPaper from \"./elements/RightPaper\";\nimport {SwitchCase, Case} from \"./elements/misc/SwitchCase\";\nimport CreateRuleForm from \"./elements/forms/CreateRuleForm\";\nimport CreateSegmentForm from \"./elements/forms/CreateSegemntForm\";\nimport CreateSourceForm from \"./elements/forms/CreateSourceForm\";\nimport SocialSplash from \"./elements/misc/SocialSplash\";\nimport RightPaperHeader from \"./elements/RightPaperHeader\";\nimport PrivateRoute from \"./authentication/PrivateRoute\";\n\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst App = ({alert,rightPaper}) => {\n\n    const [splash, setSplash] = useState(true);\n    const dispatch = useDispatch()\n\n    const handleClose = () => {\n        dispatch(hideAlert())\n    };\n\n    const onContinueClick = () => {\n        setSplash(false);\n    }\n\n    const application = () => {\n        if(splash) {\n            return <SocialSplash onClick={onContinueClick}/>\n        } else {\n            return (\n                <Router>\n                    <Switch>\n                        <Route exact path=\"/app/login\">\n                            <SignIn/>\n                        </Route>\n                        <Route exact path=\"/app/logout\">\n                            <Logout/>\n                        </Route>\n                        <PrivateRoute path=\"/app\" roles={[\"unomi\"]}>\n                            <AppBox/>\n                        </PrivateRoute>\n                    </Switch>\n                    <Snackbar open={alert.show} autoHideDuration={alert.hideAfter} onClose={handleClose}>\n                        <Alert onClose={handleClose} severity={alert.type}>\n                            <pre style={{margin: 0, overflow: \"auto\", maxWidth: \"500px\"}}>{alert.message}</pre>\n                        </Alert>\n                    </Snackbar>\n                    <RightPaper open={rightPaper.open}>\n                        <SwitchCase caseId={rightPaper.caseId}>\n                            <Case id=\"AddSourceForm\">\n                                <RightPaperHeader>\n                                    <span style={{fontWeight: 700}}>Create</span>&nbsp;source\n                                </RightPaperHeader>\n                                <CreateSourceForm/>\n                            </Case>\n                            <Case id=\"AddRuleForm\">\n                                <RightPaperHeader>\n                                    <span style={{fontWeight: 700}}>Create</span>&nbsp;rule\n                                </RightPaperHeader>\n                                <CreateRuleForm/>\n                            </Case>\n                            <Case id=\"AddSegmentForm\">\n                                <RightPaperHeader>\n                                    <span style={{fontWeight: 700}}>Create</span>&nbsp;segment\n                                </RightPaperHeader>\n                                <CreateSegmentForm/>\n                            </Case>\n                        </SwitchCase>\n                    </RightPaper>\n                </Router>\n            );\n        }\n\n    }\n\n    return application();\n}\n\nconst mapState = (state) => {\n    return {\n        alert: state.alertReducer,\n        rightPaper: state.rightPaperReducer\n    }\n}\nexport default connect(mapState)(App);\n","import React from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport store from './redux/store'\nimport {Provider} from \"react-redux\";\nimport App from \"./components/App\";\nimport {mainTheme} from \"./themes\";\nimport {ThemeProvider} from \"@material-ui/core/styles\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <ThemeProvider theme={mainTheme}>\n                <CssBaseline/>\n                <App/>\n            </ThemeProvider>\n        </Provider>\n    </React.StrictMode>,\n    document.querySelector('#root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}